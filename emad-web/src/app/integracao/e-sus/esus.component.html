<h2 class="text-left">Integração e-SUS</h2><br />

<div *ngIf="errors.length" class="alert alert-danger">
    <div *ngFor="let error of errors" class="row">
        <div class="col-12 text-left">
            {{error.message}}
        </div>
    </div>
</div>

<div class="card mb-4">
    <div class="card mb-12">
        <div class="card-header text-left">
            Opções de exportação
        </div>
        <div class="card-body text-left">
            <div class="form-group row">
                <label class="col-xl-1 col-form-label text-left">
                    Ficha <span class="text-danger font-weight-bold"> *</span>
                </label>
                <div class="col-xl-4">
                    <select class="custom-select d-block w-100" [(ngModel)]="object.idFichaEsus">
                        <option [value]="null">Selecione...</option>
                        <option *ngFor="let item of domains[0]?.tipoFicha" [value]="item.id">{{item.nome}}</option>
                    </select>
                </div>
            </div>
            <div class="form-group row">
                <label class="col-xl-2 col-form-label text-left">
                    Tipo período de extração <span class="text-danger font-weight-bold"> *</span>
                </label>
                <div class="col-xl-3">
                    <select class="custom-select d-block w-100" [(ngModel)]="object.idTipoPeriodo" (change)="tipoPeriodoAlterado(object.idTipoPeriodo)">
                        <option [value]="null">Selecione...</option>
                        <option *ngFor="let periodo of domains[0]?.tipoPeriodo" [value]="periodo.id">{{periodo.nome}}</option>
                    </select>
                </div>
            </div>
            <div class="form-group row" *ngIf="periodoCriacao">
                <label class="col-xl-2 col-form-label text-left">Período de criação
                    <span class="text-danger font-weight-bold">*</span>
                </label>
                <div class="col-xl-3">
                    <div class="input-group">
                        <div class="input-group-prepend">
                            <div class="input-group-text btn">
                                <i class="fa fa-calendar-alt"></i>
                            </div>
                        </div>
                        <input type="text" [(ngModel)]="object.periodoExtracao" placeholder="dd/mm/aaaa"
                            bsDaterangepicker
                            [bsConfig]="{containerClass: 'theme-dark-blue', dateInputFormat: 'DD/MM/YYYY'}"
                            class="form-control" autocomplete="off">
                    </div>
                </div>
            </div>
            <div class="form-group row" *ngIf="periodoAlteracao">
                <label class="col-xl-2 col-form-label text-left">Período de alteração
                    <span class="text-danger font-weight-bold">*</span>
                </label>
                <div class="col-xl-3">
                    <div class="input-group">
                        <div class="input-group-prepend">
                            <div class="input-group-text btn">
                                <i class="fa fa-calendar-alt"></i>
                            </div>
                        </div>
                        <input type="text" [(ngModel)]="object.periodoExtracao" placeholder="dd/mm/aaaa"
                            bsDaterangepicker
                            [bsConfig]="{containerClass: 'theme-dark-blue', dateInputFormat: 'DD/MM/YYYY'}"
                            class="form-control" autocomplete="off">
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-12">
                    <div class="form-group text-right">
                        <button class="btn btn-primary" type="submit" (click)="gerarXMLsPorTipoFicha()" [disabled]="isEnable()">
                            <i class="fa fa-file-archive"></i> Gerar arquivos
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
