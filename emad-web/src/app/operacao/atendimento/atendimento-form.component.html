<h4 *ngIf="!idHistorico" class="mb-5 text-left">Atendimento</h4>
<app-loader [loading]="loading"></app-loader>
<p *ngIf="message.length" class="alert alert-info sticky-top">{{ message }}</p>
<div *ngIf="errors.length" class="alert alert-danger sticky-top">
  <div *ngFor="let error of errors" class="row">
    <div class="col-12 text-left">
      {{ error.message }}
    </div>
  </div>
</div>

<form [formGroup]="form" (submit)="sendForm($event)" *ngIf="mostraFormulario">
  <input
    type="hidden"
    [(ngModel)]="object.idEstabelecimento"
    formControlName="idEstabelecimento"
  />
  <tabset>
    <tab>
      <ng-template tabHeading>
        <i class="fa fa-edit" title="Principal"></i> Principal
      </ng-template>

      <!-- Paciente -->
      <div *ngIf="object.tipoFicha != 7" class="card mb-4">
        <div class="card-header text-left">
          Paciente

          <button
            *ngIf="object.idPaciente"
            class="btn btn-primary float-right rounded"
            type="button"
            (click)="visualizaProntuarioPaciente(object.idPaciente)"
            title="Prontuário eletrônico do paciente"
          >
            <i class="fa fa-user"></i>
          </button>

          <button
            *ngIf="object.id"
            class="mr-2 btn btn-primary float-right rounded"
            type="button"
            (click)="abreFichaDigital(object.id, true)"
            title="Imprimir ficha médica"
          >
            <i class="fa fa-print"></i>
          </button>

          <button
            *ngIf="object.id"
            class="mr-2 btn btn-primary float-right rounded"
            type="button"
            (click)="abreAtendimentoFichaDigital(object.id)"
            title="Visualizar ficha médica"
          >
            <i class="fa fa-file-alt"></i>
          </button>

          <button
            *ngIf="object.idPaciente"
            class="mr-2 btn btn-primary float-right rounded"
            type="button"
            (click)="openExame(contentExame)"
            title="Visualizar exames"
          >
            <i class="fa fa-file-medical-alt"></i>
          </button>

          <button
            *ngIf="
              object.id &&
              object.ano_receita &&
              object.numero_receita &&
              object.unidade_receita
            "
            class="mr-2 btn btn-primary float-right rounded"
            type="button"
            title="Visualizar receita"
            (click)="
              abreReceitaMedica(
                object.ano_receita,
                object.numero_receita,
                object.unidade_receita
              )
            "
          >
            <i class="fa fa-file-medical-alt"></i>
          </button>
        </div>
        <div class="card-body text-left">
          <div class="row">
            <div class="col-12">
              <div class="row">
                <label class="col-xl-2 col-form-label text-left"
                  >Pesquisar paciente
                  <span class="text-danger font-weight-bold">*</span>
                </label>
                <div class="col-xl-10">
                  <input
                    type="hidden"
                    [(ngModel)]="object.id"
                    formControlName="id"
                  />
                  <input
                    type="hidden"
                    [(ngModel)]="object.idPaciente"
                    formControlName="idPaciente"
                  />
                  <div class="input-group">
                    <input
                      type="text"
                      class="form-control has-error rounded"
                      [(ngModel)]="object.pacienteNome"
                      formControlName="pacienteNome"
                      readonly
                    />

                    <div class="input-group-append">
                      <button
                        class="btn btn-primary ml-3 rounded"
                        type="button"
                        (click)="open(contentClient)"
                        [disabled]="disableFields()"
                      >
                        <i class="fa fa-search"></i>
                      </button>
                    </div>
                  </div>
                </div>
              </div>

              <div *ngIf="object.tipoFicha == 7">
                <div class="row" style="margin-top: 10px">
                  <div class="col-xl-12">
                    <div class="form-group row">
                      <label class="col-xl-2 col-form-label text-left">
                        Avaliação Alterada
                      </label>
                      <div class="col-xl-2">
                        <div
                          class="custom-control custom-checkbox"
                          style="width: 25px"
                        >
                          <input
                            type="checkbox"
                            id="avaliacaoAlterada"
                            [(ngModel)]="object.avaliacaoAlterada"
                            formControlName="avaliacaoAlterada"
                            class="custom-control-input"
                          />
                          <label
                            class="custom-control-label"
                            for="avaliacaoAlterada"
                          ></label>
                        </div>
                      </div>
                      <label class="col-xl-2 col-form-label text-left">
                        Cessou o hábito de fumar
                      </label>
                      <div class="col-xl-2">
                        <div
                          class="custom-control custom-checkbox"
                          style="width: 25px"
                        >
                          <input
                            type="checkbox"
                            id="parouFumar"
                            [(ngModel)]="object.parouFumar"
                            formControlName="parouFumar"
                            class="custom-control-input"
                          />
                          <label
                            class="custom-control-label"
                            for="parouFumar"
                          ></label>
                        </div>
                      </div>
                      <label class="col-xl-2 col-form-label text-left">
                        Abandonou o grupo
                      </label>
                      <div class="col-xl-2">
                        <div
                          class="custom-control custom-checkbox"
                          style="width: 25px"
                        >
                          <input
                            type="checkbox"
                            id="abandonouGrupo"
                            [(ngModel)]="object.abandonouGrupo"
                            formControlName="abandonouGrupo"
                            class="custom-control-input"
                          />
                          <label
                            class="custom-control-label"
                            for="abandonouGrupo"
                          ></label>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Dados da abertura do atendimento -->
      <div class="card mb-4" *ngIf="object.idPaciente">
        <input type="hidden" [(ngModel)]="object.id" formControlName="id" />
        <input
          type="hidden"
          [(ngModel)]="object.idPaciente"
          formControlName="idPaciente"
        />

        <div class="card-header text-left">
          Dados da abertura do atendimento
        </div>
        <div class="card-body text-left">
          <div class="row">
            <div class="col-xl-12">
              <div class="form-group row">
                <label class="col-xl-2 col-form-label text-left">
                  Tipo de ficha<span class="text-danger font-weight-bold"
                    >*</span
                  >
                </label>
                <div class="col-xl-4">
                  <select
                    (change)="change($event)"
                    *ngIf="domains"
                    class="custom-select d-block w-100"
                    [(ngModel)]="object.tipoFicha"
                    formControlName="tipoFicha"
                  >
                    <option [value]="null">Selecione...</option>
                    <option
                      *ngFor="let item of domains[0]?.tipoFichas"
                      [value]="item.id"
                    >
                      {{ item.nome }}
                    </option>
                  </select>
                </div>

                <label class="col-xl-2 col-form-label text-left">
                  Local de atendimento
                </label>
                <div class="col-xl-4">
                  <select
                    (change)="changeLocal($event)"
                    *ngIf="domains"
                    class="custom-select d-block w-100"
                    [(ngModel)]="object.localDeAtendimento"
                    formControlName="localDeAtendimento"
                  >
                    <option [value]="null">Selecione...</option>
                    <option
                      *ngFor="let item of domains[0]?.localDeAtendimento"
                      [value]="item.id"
                    >
                      {{ item.nome }}
                    </option>
                  </select>
                </div>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-xl-12">
              <div class="form-group row">
                <label
                  *ngIf="localAtendimento > 1"
                  class="col-xl-2 col-form-label text-left"
                >
                  Modalidade
                  <span
                    *ngIf="object.tipoFicha == 9"
                    class="text-danger font-weight-bold"
                  >
                    *</span
                  >
                </label>
                <div *ngIf="localAtendimento > 1" class="col-xl-">
                  <select
                    *ngIf="domains"
                    class="custom-select d-block w-100"
                    [(ngModel)]="object.modalidade"
                    formControlName="modalidade"
                  >
                    <option [value]="null">Selecione...</option>
                    <option
                      *ngFor="let item of domains[0]?.modalidade"
                      [value]="item.id"
                    >
                      {{ item.nome }}
                    </option>
                  </select>
                </div>
              </div>
            </div>
          </div>

          <div *ngIf="object.idPaciente && object.id" class="row">
            <div class="col-xl-12">
              <div class="form-group row">
                <label class="col-xl-2 col-form-label text-left">
                  Tipo de Atendimento<span class="text-danger font-weight-bold"
                    >*</span
                  >
                </label>
                <div class="col-xl-10">
                  <select
                    *ngIf="domains"
                    class="custom-select d-block w-100"
                    [(ngModel)]="object.tipoAtendimento"
                    formControlName="tipoAtendimento"
                  >
                    <option [value]="null">Selecione...</option>
                    <option
                      *ngFor="let item of listTipoAtendimento"
                      [value]="item.id"
                    >
                      {{ item.nome }}
                    </option>
                  </select>
                </div>
              </div>
            </div>
          </div>

          <div *ngIf="object.tipoFicha == 8" class="row">
            <div class="col-xl-12">
              <div class="form-group row">
                <label class="col-xl-2 col-form-label text-left">
                  Tipo de Consulta Odonto<span
                    class="text-danger font-weight-bold"
                    >*</span
                  >
                </label>
                <div class="col-xl-4">
                  <select
                    *ngIf="domains"
                    class="custom-select d-block w-100"
                    [(ngModel)]="object.tipoConsultaOdonto"
                    formControlName="tipoConsultaOdonto"
                  >
                    <option [value]="null">Selecione...</option>
                    <option
                      *ngFor="let item of domains[0]?.tiposConsultaOdonto"
                      [value]="item.id"
                    >
                      {{ item.nome }}
                    </option>
                  </select>
                </div>
              </div>
            </div>
          </div>

          <div *ngIf="object.tipoFicha != 7" class="row">
            <div class="col-xl-12">
              <div class="form-group row">
                <label class="col-xl-2 col-form-label text-left">
                  Motivo da queixa
                </label>
                <div class="col-xl-10">
                  <textarea
                    rows="4"
                    class="form-control has-error"
                    [(ngModel)]="object.motivoQueixa"
                    formControlName="motivoQueixa"
                    [readonly]="disableFields()"
                  ></textarea>
                </div>
              </div>
            </div>
          </div>

          <!--Classificação de risco-->
          <div class="row">
            <div class="col-xl-12">
              <div class="form-group row">
                <label class="col-xl-2 col-form-label text-left">
                  Classificação de risco<span
                    class="text-danger font-weight-bold"
                  >
                    *</span
                  >
                </label>
                <div class="col-xl-4">
                  <select
                    *ngIf="domains"
                    class="custom-select d-block w-100"
                    [(ngModel)]="object.idClassificacaoRisco"
                    formControlName="idClassificacaoRisco"
                  >
                    <option [value]="null">Selecione...</option>
                    <option
                      *ngFor="let item of domains[0]?.classificacaoRiscos"
                      [value]="item.id"
                    >
                      {{ item.nome }}
                    </option>
                  </select>
                </div>
              </div>
            </div>
          </div>

          <!--Data Abertura / Compartilhado-->
          <div class="row">
            <div class="col-xl-12">
              <div class="form-group row">
                <label class="col-xl-2 col-form-label text-left">
                  Data abertura
                </label>
                <div class="col-xl-2">
                  <div class="input-group">
                    <div class="input-group-prepend">
                      <div class="input-group-text btn">
                        <i class="fa fa-calendar-alt"></i>
                      </div>
                    </div>
                    <input
                      type="text"
                      [(ngModel)]="object.dataCriacao"
                      formControlName="dataCriacao"
                      placeholder="dd/mm/aaaa"
                      bsDatepicker
                      [readonly]="object.id"
                      [bsConfig]="{
                        containerClass: 'theme-dark-blue',
                        dateInputFormat: 'DD/MM/YYYY'
                      }"
                      class="form-control"
                      autocomplete="off"
                    />
                  </div>
                </div>
                <div
                  class="col-xl-2"
                  *ngIf="object.tipoFicha == 1 || object.tipoFicha == 8"
                >
                  &nbsp;
                </div>
                <label
                  class="col-xl-2 col-form-label text-left"
                  *ngIf="object.tipoFicha == 1 || object.tipoFicha == 8"
                >
                  Compartilhado com
                </label>
                <div
                  class="col-xl-4"
                  *ngIf="object.tipoFicha == 1 || object.tipoFicha == 8"
                >
                  <select
                    *ngIf="domains"
                    class="custom-select d-block w-100"
                    [(ngModel)]="object.idProfissionalCompartilhado"
                    formControlName="idProfissionalCompartilhado"
                  >
                    <option [value]="null">Selecione...</option>
                    <option
                      *ngFor="
                        let item of domains[0]?.idProfissionalCompartilhado
                      "
                      [value]="item.id"
                    >
                      {{ item.nome }}
                    </option>
                  </select>
                </div>
              </div>
            </div>
          </div>

          <div *ngIf="object.tipoFicha == 8">
            <div *ngIf="object.sexo == '2'" class="row">
              <div class="col-xl-12">
                <div class="form-group row">
                  <label class="col-xl-2 col-form-label text-left">
                    Gestante
                  </label>
                  <div class="col-xl-10">
                    <div
                      class="custom-control custom-checkbox"
                      style="width: 25px"
                    >
                      <input
                        type="checkbox"
                        id="gestante"
                        [(ngModel)]="object.gestante"
                        formControlName="gestante"
                        class="custom-control-input"
                      />
                      <label
                        class="custom-control-label"
                        for="gestante"
                      ></label>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div *ngIf="object.tipoFicha == 8" class="row">
              <div class="col-xl-12">
                <div class="form-group row">
                  <label class="col-xl-2 col-form-label text-left">
                    Possui Necessidades Especiais
                  </label>
                  <div class="col-xl-10">
                    <div
                      class="custom-control custom-checkbox"
                      style="width: 25px"
                    >
                      <input
                        type="checkbox"
                        id="possuiNecessidadesEspeciais"
                        [(ngModel)]="object.possuiNecessidadesEspeciais"
                        formControlName="possuiNecessidadesEspeciais"
                        class="custom-control-input"
                      />
                      <label
                        class="custom-control-label"
                        for="possuiNecessidadesEspeciais"
                      ></label>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!--Observação/Integração e-sus-->
          <div
            *ngIf="object.tipoFicha != 7 && object.idPaciente && object.id"
            class="row"
          >
            <div class="col-xl-6">
              <div class="form-group row">
                <label class="col-xl-4 col-form-label text-left">
                  Ficou em Observação
                </label>
                <div class="col-xl-8">
                  <div
                    class="custom-control custom-checkbox"
                    style="width: 25px"
                  >
                    <input
                      type="checkbox"
                      id="ficouEmObservacao"
                      [(ngModel)]="object.ficouEmObservacao"
                      formControlName="ficouEmObservacao"
                      class="custom-control-input"
                    />
                    <label
                      class="custom-control-label"
                      for="ficouEmObservacao"
                    ></label>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-xl-6">
              <div class="form-group row">
                <label class="col-xl-4 col-form-label text-left">
                  Integrar PEC (e-SUS)
                </label>
                <div class="col-xl-8">
                  <div
                    class="custom-control custom-checkbox"
                    style="width: 25px"
                  >
                    <input
                      type="checkbox"
                      id="integracaoPEC"
                      [(ngModel)]="object.integracaoPEC"
                      formControlName="integracaoPEC"
                      class="custom-control-input"
                    />
                    <label
                      class="custom-control-label"
                      for="integracaoPEC"
                    ></label>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div
            *ngIf="object.tipoFicha != 7 && object.tipoFicha != 8 && !object.id"
          >
            <div class="row">
              <div class="col-xl-6">
                <div class="form-group row">
                  <label class="col-xl-4 col-form-label text-left">
                    Pressão arterial
                  </label>
                  <div class="col-xl-8">
                    <input
                      type="text"
                      mask="000/000"
                      class="form-control has-error"
                      [(ngModel)]="object.pressaoArterial"
                      formControlName="pressaoArterial"
                      [readonly]="disableFields()"
                    />
                  </div>
                </div>
              </div>
              <div class="col-xl-6">
                <div class="form-group row">
                  <label class="col-xl-4 col-form-label text-left">
                    Pulso
                  </label>
                  <div class="col-xl-8">
                    <input
                      type="text"
                      class="form-control has-error"
                      [(ngModel)]="object.pulso"
                      formControlName="pulso"
                      mask="999"
                      [readonly]="disableFields()"
                    />
                  </div>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-xl-6">
                <div class="form-group row">
                  <label class="col-xl-4 col-form-label text-left">
                    Saturação 02
                  </label>
                  <div class="col-xl-8">
                    <input
                      type="text"
                      class="form-control has-error"
                      [(ngModel)]="object.saturacao"
                      formControlName="saturacao"
                      [readonly]="disableFields()"
                      mask="999%"
                    />
                  </div>
                </div>
              </div>
              <div class="col-xl-6">
                <div class="form-group row">
                  <label class="col-xl-4 col-form-label text-left">
                    Temperatura
                  </label>
                  <div class="col-xl-8">
                    <input
                      type="text"
                      class="form-control has-error"
                      [(ngModel)]="object.temperatura"
                      formControlName="temperatura"
                      [readonly]="disableFields()"
                      mask="99.9"
                    />
                  </div>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-xl-6">
                <div class="form-group row">
                  <label class="col-xl-4 col-form-label text-left">
                    Altura
                  </label>
                  <div class="col-xl-8">
                    <input
                      type="text"
                      class="form-control has-error"
                      [(ngModel)]="object.altura"
                      formControlName="altura"
                      [readonly]="disableFields()"
                      mask="9.99"
                    />
                  </div>
                </div>
              </div>
              <div class="col-xl-6">
                <div class="form-group row">
                  <label class="col-xl-4 col-form-label text-left">
                    Peso
                  </label>
                  <div class="col-xl-8">
                    <input
                      type="text"
                      class="form-control has-error"
                      [(ngModel)]="object.peso"
                      formControlName="peso"
                      [readonly]="disableFields()"
                      mask="099.99"
                    />
                  </div>
                </div>
              </div>
              <div class="col-xl-6">
                <div *ngIf="object.tipoAtendimento != 9" class="form-group row">
                  <label class="col-xl-4 col-form-label text-left">
                    Condição Avaliada
                  </label>
                  <div class="col-xl-8">
                    <select
                      *ngIf="domains"
                      class="custom-select d-block"
                      [(ngModel)]="object.condicaoAvaliada"
                      formControlName="condicaoAvaliada"
                    >
                      <option [value]="null">Selecione...</option>
                      <option
                        *ngFor="let item of domains[0]?.condicaoAvaliada"
                        [value]="item.id"
                      >
                        {{ item.nome }}
                      </option>
                    </select>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Ficha de Atividade Coletiva -->
      <div *ngIf="object.tipoFicha == 7" class="card mb-4">
        <div class="card-header text-left">Dados da Atividade Coletiva</div>
        <div class="card-body text-left">
          <div class="row">
            <div class="col-xl-6">
              <div class="form-group row">
                <label class="col-xl-4 col-form-label text-left"> Inep </label>
                <div class="col-xl-8">
                  <input
                    type="text"
                    class="form-control has-error"
                    [(ngModel)]="object.inep"
                    formControlName="inep"
                  />
                </div>
              </div>
            </div>
            <div class="col-xl-6">
              <div class="form-group row">
                <label class="col-xl-4 col-form-label text-left">
                  Núm de participantes
                </label>
                <div class="col-xl-8">
                  <input
                    type="number"
                    min="1"
                    max="999"
                    class="form-control has-error"
                    [(ngModel)]="object.numParticipantes"
                    formControlName="numParticipantes"
                  />
                </div>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-xl-6">
              <div class="form-group row">
                <label class="col-xl-4 col-form-label text-left">
                  Tipo de Atv.
                </label>
                <div class="col-xl-8">
                  <select
                    (change)="changeFn($event)"
                    *ngIf="domains"
                    class="custom-select d-block w-100"
                    [(ngModel)]="object.atividadeTipo"
                    formControlName="atividadeTipo"
                  >
                    <option [value]="0">Selecione...</option>
                    <option
                      *ngFor="let item of domains[0]?.atividadeTipo"
                      [value]="item.id"
                    >
                      {{ item.nome }}
                    </option>
                  </select>
                </div>
              </div>
            </div>
            <div class="col-xl-6">
              <div class="form-group row">
                <label class="col-xl-4 col-form-label text-left">
                  Temas da Atv.
                </label>
                <div class="col-xl-8">
                  <select
                    *ngIf="domains"
                    class="custom-select d-block w-100"
                    [(ngModel)]="object.temasParaReuniao"
                    formControlName="temasParaReuniao"
                  >
                    <option [value]="0">Selecione...</option>
                    <option
                      *ngFor="let item of domains[0]?.atividadeTemas"
                      [value]="item.id"
                    >
                      {{ item.nome }}
                    </option>
                  </select>
                </div>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-xl-6">
              <div class="form-group row">
                <label class="col-xl-4 col-form-label text-left">
                  Práticas em Saude
                </label>
                <div class="col-xl-8">
                  <select
                    *ngIf="domains"
                    class="custom-select d-block w-100"
                    [(ngModel)]="object.praticasEmSaude"
                    formControlName="praticasEmSaude"
                  >
                    <option [value]="0">Selecione...</option>
                    <option
                      *ngFor="let item of domains[0]?.atividadePraticasSaude"
                      [value]="item.id"
                    >
                      {{ item.nome }}
                    </option>
                  </select>
                </div>
              </div>
            </div>
            <div *ngIf="isVisible == true" class="col-xl-6">
              <div class="form-group row">
                <label class="col-xl-4 col-form-label text-left">
                  Público Alvo
                </label>
                <div class="col-xl-8">
                  <select
                    *ngIf="domains"
                    class="custom-select d-block w-100"
                    [(ngModel)]="object.publicoAlvo"
                    formControlName="publicoAlvo"
                  >
                    <option [value]="0">Selecione...</option>
                    <option
                      *ngFor="let item of domains[0]?.atividadePublico"
                      [value]="item.id"
                    >
                      {{ item.nome }}
                    </option>
                  </select>
                </div>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-xl-6">
              <div class="form-group row">
                <label class="col-xl-4 col-form-label text-left">
                  Temas para Saude
                </label>
                <div class="col-xl-8">
                  <select
                    *ngIf="domains"
                    class="custom-select d-block w-100"
                    [(ngModel)]="object.temasParaSaude"
                    formControlName="temasParaSaude"
                  >
                    <option [value]="0">Selecione...</option>
                    <option
                      *ngFor="let item of domains[0]?.atividadeTemasSaude"
                      [value]="item.id"
                    >
                      {{ item.nome }}
                    </option>
                  </select>
                </div>
              </div>
            </div>
            <div class="col-xl-6">
              <div class="form-group row">
                <label class="col-xl-4 col-form-label text-left">
                  Procedimentos SIGTAP
                </label>
                <div class="col-xl-8">
                  <select
                    *ngIf="domains"
                    class="custom-select d-block w-100"
                    [(ngModel)]="object.procedimento"
                    formControlName="procedimento"
                  >
                    <option [value]="0">Selecione...</option>
                    <option
                      *ngFor="let item of domains[0]?.atividadeProcedimento"
                      [value]="item.id"
                    >
                      {{ item.nome }}
                    </option>
                  </select>
                </div>
              </div>
            </div>
          </div>

          <div class="row" style="margin-top: 10px">
            <div class="col-xl-6">
              <div class="form-group row">
                <label class="col-xl-4 col-form-label text-left">
                  PSE Saúde
                </label>
                <div class="col-xl-8">
                  <div
                    class="custom-control custom-checkbox"
                    style="width: 25px"
                  >
                    <input
                      type="checkbox"
                      id="pseSaude"
                      [(ngModel)]="object.pseSaude"
                      formControlName="pseSaude"
                      class="custom-control-input"
                    />
                    <label class="custom-control-label" for="pseSaude"></label>
                  </div>
                </div>
              </div>
            </div>

            <div class="col-xl-6">
              <div class="form-group row">
                <label class="col-xl-4 col-form-label text-left">
                  PSE Educação
                </label>
                <div class="col-xl-8">
                  <div
                    class="custom-control custom-checkbox"
                    style="width: 25px"
                  >
                    <input
                      maxlength="60"
                      type="checkbox"
                      id="pseEducacao"
                      [(ngModel)]="object.pseEducacao"
                      formControlName="pseEducacao"
                      class="custom-control-input"
                    />
                    <label
                      class="custom-control-label"
                      for="pseEducacao"
                    ></label>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-xl-12">
              <div class="form-group row">
                <label class="col-xl-3 col-form-label text-left">
                  Descrição do Tipo de Atividade
                </label>
                <div class="col-xl-9">
                  <input
                    type="text"
                    class="form-control has-error"
                    [(ngModel)]="object.descricaoTipoAtividade"
                    formControlName="descricaoTipoAtividade"
                  />
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Ficha Dados Ondotologia -->
      <div *ngIf="object.tipoFicha == 8">
        <div class="card mb-4" *ngIf="object.idPaciente && object.id">
          <div class="card-header text-left">Tipos Fornecimento Odonto</div>
          <div class="card-body text-left">
            <div class="row">
              <div class="col-12 mb-3">
                <button
                  *ngIf="!disableFields()"
                  type="button"
                  class="btn btn-primary float-left mr-2"
                  (click)="
                    openTipoFornecimentoOdonto(contentTipoFornecimentoOdonto)
                  "
                  [disabled]="!object.id"
                >
                  <i class="fa fa-plus-circle"></i>
                </button>

                <button
                  type="button"
                  class="btn btn-default float-left"
                  (click)="findtiposFornecimentoOdontoPorAtendimento()"
                >
                  <i class="fa fa-sync-alt"></i>
                </button>
              </div>
              <div class="col-12 table-responsive">
                <table class="table table-striped">
                  <thead>
                    <tr>
                      <th>Código</th>
                      <th>Nome</th>
                      <th></th>
                    </tr>
                  </thead>
                  <tbody *ngIf="!allTiposFornecimento">
                    <tr class="text-left">
                      <td colspan="99" class="text-secondary">
                        <i>Não há resultados...</i>
                      </td>
                    </tr>
                  </tbody>
                  <tbody *ngIf="allTiposFornecimento">
                    <tr
                      class="text-left"
                      *ngFor="let item of allTiposFornecimento"
                    >
                      <td class="text-secondary">{{ item.id }}</td>
                      <td class="text-secondary">{{ item.nome }}</td>
                      <td class="text-secondary text-right">
                        <a
                          *ngIf="!disableFields()"
                          class="btn btn-link"
                          [routerLink]=""
                          (click)="
                            removetiposFornecimentoOdontoPorAtendimento(item)
                          "
                        >
                          <i class="fa fa-trash-alt"></i> Remover
                        </a>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
        <div class="card mb-4" *ngIf="object.idPaciente && object.id">
          <div class="card-header text-left">Tipos Vigilância Saúde Bucal</div>
          <div class="card-body text-left">
            <div class="row">
              <div class="col-12 mb-3">
                <button
                  *ngIf="!disableFields()"
                  type="button"
                  class="btn btn-primary float-left mr-2"
                  (click)="
                    openTipoVigilanciaOdonto(contentTipoVigilanciaOdonto)
                  "
                  [disabled]="!object.id"
                >
                  <i class="fa fa-plus-circle"></i>
                </button>

                <button
                  type="button"
                  class="btn btn-default float-left"
                  (click)="findtiposVigilanciaOdontoPorAtendimento()"
                >
                  <i class="fa fa-sync-alt"></i>
                </button>
              </div>
              <div class="col-12 table-responsive">
                <table class="table table-striped">
                  <thead>
                    <tr>
                      <th>Código</th>
                      <th>Nome</th>
                      <th></th>
                    </tr>
                  </thead>
                  <tbody *ngIf="!allTiposVigilanciaBucal">
                    <tr class="text-left">
                      <td colspan="99" class="text-secondary">
                        <i>Não há resultados...</i>
                      </td>
                    </tr>
                  </tbody>
                  <tbody *ngIf="allTiposVigilanciaBucal">
                    <tr
                      class="text-left"
                      *ngFor="let item of allTiposVigilanciaBucal"
                    >
                      <td class="text-secondary">{{ item.id }}</td>
                      <td class="text-secondary">{{ item.nome }}</td>
                      <td class="text-secondary text-right">
                        <a
                          *ngIf="!disableFields()"
                          class="btn btn-link"
                          [routerLink]=""
                          (click)="
                            removetiposVigilanciaOdontoPorAtendimento(item)
                          "
                        >
                          <i class="fa fa-trash-alt"></i> Remover
                        </a>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Sinais vitais -->
      <div
        class="card mb-4"
        *ngIf="
          object.idPaciente &&
          object.id &&
          object.tipoFicha != 7 &&
          object.tipoFicha != 8
        "
      >
        <div class="card-header text-left">Sinais vitais</div>
        <div class="card-body text-left">
          <div *ngIf="object.tipoFicha != 7 && object.tipoFicha != 8">
            <div class="row">
              <div class="col-xl-6">
                <div class="form-group row">
                  <label class="col-xl-4 col-form-label text-left">
                    Pressão arterial
                  </label>
                  <div class="col-xl-8">
                    <input
                      type="text"
                      mask="000/000"
                      class="form-control has-error"
                      [(ngModel)]="object.pressaoArterial"
                      formControlName="pressaoArterial"
                      [readonly]="disableFields()"
                    />
                  </div>
                </div>
              </div>
              <div class="col-xl-6">
                <div class="form-group row">
                  <label class="col-xl-4 col-form-label text-left">
                    Pulso
                  </label>
                  <div class="col-xl-8">
                    <input
                      type="text"
                      class="form-control has-error"
                      [(ngModel)]="object.pulso"
                      formControlName="pulso"
                      mask="999"
                      [readonly]="disableFields()"
                    />
                  </div>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-xl-6">
                <div class="form-group row">
                  <label class="col-xl-4 col-form-label text-left">
                    Saturação 02
                  </label>
                  <div class="col-xl-8">
                    <input
                      type="text"
                      class="form-control has-error"
                      [(ngModel)]="object.saturacao"
                      formControlName="saturacao"
                      [readonly]="disableFields()"
                      mask="999%"
                    />
                  </div>
                </div>
              </div>
              <div class="col-xl-6">
                <div class="form-group row">
                  <label class="col-xl-4 col-form-label text-left">
                    Temperatura
                  </label>
                  <div class="col-xl-8">
                    <input
                      type="text"
                      class="form-control has-error"
                      [(ngModel)]="object.temperatura"
                      formControlName="temperatura"
                      [readonly]="disableFields()"
                      mask="99.9"
                    />
                  </div>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-xl-6">
                <div class="form-group row">
                  <label class="col-xl-4 col-form-label text-left">
                    Altura
                  </label>
                  <div class="col-xl-8">
                    <input
                      type="text"
                      class="form-control has-error"
                      [(ngModel)]="object.altura"
                      formControlName="altura"
                      [readonly]="disableFields()"
                      mask="9.99"
                    />
                  </div>
                </div>
              </div>
              <div class="col-xl-6">
                <div class="form-group row">
                  <label class="col-xl-4 col-form-label text-left">
                    Peso
                  </label>
                  <div class="col-xl-8">
                    <input
                      type="text"
                      class="form-control has-error"
                      [(ngModel)]="object.peso"
                      formControlName="peso"
                      [readonly]="disableFields()"
                      mask="099.99"
                    />
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-xl-6">
              <div class="form-group row">
                <label class="col-xl-4 col-form-label text-left">
                  Glicemia
                </label>
                <div class="col-xl-8">
                  <input
                    type="text"
                    class="form-control has-error"
                    [(ngModel)]="object.glicemia"
                    formControlName="glicemia"
                    [readonly]="disableFields()"
                    mask="099.9"
                  />
                </div>
              </div>
            </div>

            <div class="col-xl-6">
              <div
                *ngIf="object.tipoAtendimento != 9 || obrigaCondAvaliada == 1"
                class="form-group row"
              >
                <label class="col-xl-4 col-form-label text-left">
                  Condição Avaliada:<span
                    *ngIf="obrigaCondAvaliada === 1"
                    class="text-danger font-weight-bold"
                  >
                    *</span
                  >
                </label>
                <div class="col-xl-8">
                  <select
                    *ngIf="domains"
                    class="custom-select d-block w-100"
                    [(ngModel)]="object.condicaoAvaliada"
                    formControlName="condicaoAvaliada"
                  >
                    <option [value]="null">Selecione...</option>
                    <option
                      *ngFor="let item of domains[0]?.condicaoAvaliada"
                      [value]="item.id"
                    >
                      {{ item.nome }}
                    </option>
                  </select>
                </div>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-xl-12">
              <div class="form-group row">
                <label class="col-xl-2 col-form-label text-left">
                  Vacinas Em dia
                </label>
                <div class="col-xl-10">
                  <div
                    class="custom-control custom-checkbox"
                    style="width: 25px"
                  >
                    <input
                      type="checkbox"
                      id="vacinasEmDia"
                      [(ngModel)]="object.vacinasEmDia"
                      formControlName="vacinasEmDia"
                      class="custom-control-input"
                      [readonly]="disableFields()"
                    />
                    <label
                      class="custom-control-label"
                      for="vacinasEmDia"
                    ></label>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Análise física -->
      <div
        class="card mb-4"
        *ngIf="
          object.idPaciente &&
          object.id &&
          object.tipoFicha != 7 &&
          object.tipoFicha != 8
        "
      >
        <div class="card-header text-left">Análise física</div>
        <div class="card-body text-left">
          <div class="row">
            <div class="col-xl-6">
              <div class="form-group row">
                <label class="col-xl-4 col-form-label text-left">
                  Exame físico
                </label>
                <div class="col-xl-8">
                  <textarea
                    rows="4"
                    class="form-control has-error"
                    [(ngModel)]="object.exameFisico"
                    formControlName="exameFisico"
                    [readonly]="disableFields()"
                  ></textarea>
                </div>
              </div>
            </div>
            <div class="col-xl-6">
              <div class="form-group row">
                <label class="col-xl-4 col-form-label text-left">
                  Observações gerais
                </label>
                <div class="col-xl-8">
                  <textarea
                    rows="4"
                    class="form-control has-error"
                    [(ngModel)]="object.observacoesGerais"
                    formControlName="observacoesGerais"
                    [readonly]="disableFields()"
                  ></textarea>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Histórico -->
      <div
        class="card mb-4"
        *ngIf="
          object.idPaciente &&
          object.id &&
          object.tipoFicha != 7 &&
          object.tipoFicha != 8
        "
      >
        <div class="card-header text-left">Histórico</div>
        <div class="card-body text-left">
          <div class="row">
            <div class="col-xl-12">
              <div class="form-group row">
                <label class="col-xl-2 col-form-label text-left">
                  História progressa/familiar
                </label>
                <div class="col-xl-10">
                  <textarea
                    rows="3"
                    class="form-control has-error"
                    [(ngModel)]="object.pacienteHistoriaProgressa"
                    formControlName="pacienteHistoriaProgressa"
                    [readonly]="disableFields()"
                  ></textarea>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Anamnese/Evolução -->
      <div
        class="card mb-4"
        *ngIf="
          object.idPaciente &&
          object.id &&
          object.tipoFicha != 7 &&
          object.tipoFicha != 8
        "
      >
        <div class="card-header text-left">Anamnese/Evolução</div>
        <div class="card-body text-left">
          <div class="row">
            <div class="col-xl-12">
              <div class="form-group row">
                <label class="col-xl-2 col-form-label text-left">
                  Tipo<span class="text-danger font-weight-bold"> *</span>
                </label>
                <div class="col-xl-10">
                  <select
                    *ngIf="domains"
                    class="custom-select d-block w-100"
                    [(ngModel)]="object.tipoHistoriaClinica"
                    formControlName="tipoHistoriaClinica"
                  >
                    <option [value]="0">Selecione...</option>
                    <option
                      *ngFor="let item of domains[0]?.tipoHistoriaClinica"
                      [value]="item.id"
                    >
                      {{ item.nome }}
                    </option>
                  </select>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-xl-12">
              <div class="form-group row">
                <label class="col-xl-2 col-form-label text-left">
                  Descrição<span class="text-danger font-weight-bold"> *</span>
                </label>
                <div class="col-xl-10">
                  <textarea
                    rows="4"
                    class="form-control has-error"
                    [(ngModel)]="object.historicoClinico"
                    formControlName="historicoClinico"
                    [readonly]="disableFields()"
                  ></textarea>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Avaliação/Classificação CIAP2 -->
      <div
        class="card mb-4"
        *ngIf="
          object.idPaciente &&
          object.id &&
          object.tipoFicha != 7 &&
          object.tipoFicha != 8
        "
      >
        <div class="card-header text-left">
          Avaliação/Classificação CIAP 2
          <span
            *ngIf="
              obrigaCiap2 === 1 &&
              form.get('tipoFicha').value != 7 &&
              form.get('tipoFicha').value != 8
            "
            class="text-danger font-weight-bold"
          >
            *</span
          >
        </div>
        <div class="card-body text-left">
          <div class="row">
            <div class="col-12 mb-3">
              <button
                *ngIf="!disableFields()"
                type="button"
                class="btn btn-primary float-left mr-2"
                (click)="openCondicaoAvaliada(contentCondicaoAvaliada)"
                [disabled]="!object.id"
              >
                <i class="fa fa-plus-circle"></i>
              </button>

              <button
                type="button"
                class="btn btn-default float-left"
                (click)="findCondicaoAvaliadaPorAtendimento()"
              >
                <i class="fa fa-sync-alt"></i>
              </button>
            </div>
            <div class="col-12 table-responsive">
              <table class="table table-striped">
                <thead>
                  <tr>
                    <th>CIAP2</th>
                    <th>Descrição</th>
                    <th>Código AB</th>
                    <th>Sexo</th>
                    <th></th>
                  </tr>
                </thead>
                <tbody *ngIf="!allItemsCondicaoAvaliada.length">
                  <tr class="text-left">
                    <td colspan="99" class="text-secondary">
                      <i>{{
                        object.id
                          ? 'Não há resultados...'
                          : 'Você precisa salvar o formulário primeiro para Adicionar uma condição avaliada!'
                      }}</i>
                    </td>
                  </tr>
                </tbody>
                <tbody *ngIf="allItemsCondicaoAvaliada.length">
                  <tr
                    class="text-left"
                    *ngFor="let item of allItemsCondicaoAvaliada"
                  >
                    <td class="text-secondary">{{ item.ciap2 }}</td>
                    <td class="text-secondary">{{ item.descricaoAB }}</td>
                    <td class="text-secondary">{{ item.codigoAB }}</td>
                    <td class="text-secondary">{{ item.sexo }}</td>
                    <td class="text-secondary text-right">
                      <a
                        *ngIf="!disableFields()"
                        class="btn btn-link"
                        [routerLink]=""
                        (click)="removeCondicaoAvaliadaAtendimento(item)"
                      >
                        <i class="fa fa-trash-alt"></i> Remover
                      </a>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>

      <!-- Hipótese diagnostica -->
      <div
        class="card mb-4"
        *ngIf="
          object.idPaciente &&
          object.id &&
          object.tipoFicha != 7 &&
          object.tipoFicha != 8
        "
      >
        <div class="card-header text-left">Hipótese diagnostica</div>
        <div class="card-body text-left">
          <div class="row">
            <div class="col-12 mb-3">
              <button
                *ngIf="!disableFields()"
                type="button"
                class="btn btn-primary float-left mr-2"
                (click)="openHipotese(contentHipotese)"
                [disabled]="!object.id"
              >
                <i class="fa fa-plus-circle"></i>
              </button>

              <button
                type="button"
                class="btn btn-default float-left"
                (click)="findHipotesePorAtendimento()"
              >
                <i class="fa fa-sync-alt"></i>
              </button>
            </div>
            <div class="col-12 table-responsive">
              <table class="table table-striped">
                <thead>
                  <tr>
                    <th>Código (CID 10)</th>
                    <th>Diagnóstico</th>
                    <th></th>
                  </tr>
                </thead>
                <tbody *ngIf="!allItemsHipotese.length">
                  <tr class="text-left">
                    <td colspan="99" class="text-secondary">
                      <i>{{
                        object.id
                          ? 'Não há resultados...'
                          : 'Você precisa salvar o formulário primeiro para inserir uma hipótese diagnóstica!'
                      }}</i>
                    </td>
                  </tr>
                </tbody>
                <tbody *ngIf="allItemsHipotese.length">
                  <tr class="text-left" *ngFor="let item of allItemsHipotese">
                    <td class="text-secondary">{{ item.codigo }}</td>
                    <td class="text-secondary">{{ item.nome }}</td>
                    <td class="text-secondary text-right">
                      <a
                        *ngIf="!disableFields()"
                        class="btn btn-link"
                        [routerLink]=""
                        (click)="removeHipotese(item)"
                      >
                        <i class="fa fa-trash-alt"></i> Remover
                      </a>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>

      <!-- Procedimentos -->
      <div
        class="card mb-4"
        *ngIf="object.idPaciente && object.id && object.tipoFicha != 7"
      >
        <div class="card-header text-left">Procedimentos</div>
        <div class="card-body text-left">
          <div class="row">
            <div class="col-12 mb-3">
              <button
                *ngIf="!disableFields()"
                type="button"
                class="btn btn-primary float-left mr-2"
                (click)="openProcedimento(contentProcedimento)"
                [disabled]="!object.id"
              >
                <i class="fa fa-plus-circle"></i>
              </button>

              <button
                type="button"
                class="btn btn-default float-left"
                (click)="findProcedimentoPorAtendimento()"
              >
                <i class="fa fa-sync-alt"></i>
              </button>
            </div>
            <div class="col-12 table-responsive">
              <table class="table table-striped">
                <thead>
                  <tr>
                    <th>Código</th>
                    <th>Nome</th>
                    <th>Quantidade</th>
                    <th></th>
                  </tr>
                </thead>
                <tbody *ngIf="!allItemsProcedimento.length">
                  <tr class="text-left">
                    <td colspan="99" class="text-secondary">
                      <i>{{
                        object.id
                          ? 'Não há resultados...'
                          : 'Você precisa salvar o formulário primeiro para inserir um procedimento diagnóstica!'
                      }}</i>
                    </td>
                  </tr>
                </tbody>
                <tbody *ngIf="allItemsProcedimento.length">
                  <tr
                    class="text-left"
                    *ngFor="let item of allItemsProcedimento"
                  >
                    <td class="text-secondary">{{ item.co_procedimento }}</td>
                    <td class="text-secondary">{{ item.no_procedimento }}</td>
                    <td class="text-secondary">{{ item.qtd }}</td>
                    <td class="text-secondary text-right">
                      <a
                        *ngIf="!disableFields()"
                        class="btn btn-link"
                        [routerLink]=""
                        (click)="removeProcedimento(item)"
                      >
                        <i class="fa fa-trash-alt"></i> Remover
                      </a>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>

      <!-- Prescrição Medicamentos -->
      <div
        class="card mb-4"
        *ngIf="object.idPaciente && object.id && object.tipoFicha != 7"
      >
        <div class="card-header text-left">Prescrição Medicamentos</div>
        <div class="card-body text-left">
          <div class="row">
            <div class="col-12 mb-3">
              <button
                *ngIf="!disableFields()"
                type="button"
                class="btn btn-primary float-left mr-2"
                [disabled]="!object.id"
                (click)="openMedicamento(contentMedicamento)"
              >
                <i class="fa fa-plus-circle"></i>
              </button>

              <button
                type="button"
                class="btn btn-default float-left"
                (click)="findMedicamentoPorAtendimento()"
              >
                <i class="fa fa-sync-alt"></i>
              </button>
            </div>
            <div class="col-12 table-responsive">
              <table class="table table-striped">
                <thead>
                  <tr>
                    <th>Medicamento</th>
                    <th>Tempo tratamento</th>
                    <th>Tipo via</th>
                    <th>Quantidade</th>
                    <th>Apresentação</th>
                    <th>Posologia</th>
                    <th></th>
                  </tr>
                </thead>
                <tbody>
                  <tr class="text-left">
                    <td
                      colspan="99"
                      class="text-secondary"
                      *ngIf="!allItemsMedicamento.length"
                    >
                      <i>{{
                        object.id
                          ? 'Não há resultados...'
                          : 'Você precisa salvar o formulário primeiro para prescrever um medicamento!'
                      }}</i>
                    </td>
                  </tr>
                </tbody>
                <tbody *ngIf="allItemsMedicamento.length">
                  <tr
                    class="text-left"
                    *ngFor="let item of allItemsMedicamento"
                  >
                    <td class="text-secondary">
                      {{ item.descricaoMaterial }}
                    </td>
                    <td class="text-secondary">{{ item.uso }}</td>
                    <td class="text-secondary">{{ item.tipoVia }}</td>
                    <td class="text-secondary">{{ item.quantidade }}</td>
                    <td class="text-secondary">{{ item.apresentacao }}</td>
                    <td class="text-secondary">{{ item.posologia }}</td>
                    <td class="text-secondary text-right">
                      <a
                        *ngIf="!disableFields()"
                        class="btn btn-link"
                        [routerLink]=""
                        (click)="removeMedicamento(item)"
                      >
                        <i class="fa fa-trash-alt"></i> Remover
                      </a>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>

      <!-- Vacinas -->
      <div
        class="card mb-4"
        *ngIf="
          object.idPaciente &&
          object.id &&
          object.tipoFicha != 7 &&
          object.tipoFicha != 8
        "
      >
        <div class="card-header text-left">Vacinas</div>
        <div class="card-body text-left">
          <div class="row">
            <div class="col-12 mb-3">
              <button
                *ngIf="!disableFields()"
                type="button"
                class="btn btn-primary float-left mr-2"
                [disabled]="!object.id"
                (click)="openVacinas(contentVacinas)"
              >
                <i class="fa fa-plus-circle"></i>
              </button>

              <button
                type="button"
                class="btn btn-default float-left"
                (click)="findVacinaPorAtendimento()"
              >
                <i class="fa fa-sync-alt"></i>
              </button>
            </div>
            <div class="col-12 table-responsive">
              <table class="table table-striped">
                <thead>
                  <tr>
                    <th>Nome</th>
                    <th>Validade</th>
                    <th>Lote</th>
                    <th>Profissional</th>
                    <th>Dose</th>
                    <th></th>
                  </tr>
                </thead>
                <tbody>
                  <tr class="text-left">
                    <td
                      colspan="99"
                      class="text-secondary"
                      *ngIf="!allItemsVacina.length"
                    >
                      <i>{{
                        object.id
                          ? 'Não há resultados...'
                          : 'Você precisa salvar o formulário primeiro para prescrever uma vacina!'
                      }}</i>
                    </td>
                  </tr>
                </tbody>
                <tbody *ngIf="allItemsVacina.length">
                  <tr class="text-left" *ngFor="let item of allItemsVacina">
                    <td class="text-secondary">{{ item.nome }}</td>
                    <td class="text-secondary">
                      {{ item.validade | date: 'dd/MM/yyyy' }}
                    </td>
                    <td class="text-secondary">{{ item.lote }}</td>
                    <td class="text-secondary">
                      {{ item.nomeProfissional }}
                    </td>
                    <td class="text-secondary">{{ item.dose }}</td>
                    <td class="text-secondary text-right">
                      <a
                        *ngIf="!disableFields()"
                        class="btn btn-link"
                        [routerLink]=""
                        (click)="removeVacina(item)"
                      >
                        <i class="fa fa-trash-alt"></i> Remover
                      </a>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>

      <!-- Encaminhamento -->
      <div
        class="card mb-4"
        *ngIf="
          object.idPaciente &&
          object.id &&
          object.tipoFicha != 7 &&
          object.tipoFicha != 8
        "
      >
        <div class="card-header text-left">Encaminhamento Especialidade</div>
        <div class="card-body text-left">
          <div class="row">
            <div class="col-12 mb-3">
              <button
                *ngIf="!disableFields()"
                type="button"
                class="btn btn-primary float-left mr-2"
                (click)="openEncaminhamento(contentEncaminhamento)"
                [disabled]="!object.id"
              >
                <i class="fa fa-plus-circle"></i>
              </button>

              <button
                type="button"
                class="btn btn-default float-left"
                (click)="findEncaminhamentoPorAtendimento()"
              >
                <i class="fa fa-sync-alt"></i>
              </button>
            </div>
            <div class="col-12 table-responsive">
              <table class="table table-striped">
                <thead>
                  <tr>
                    <th>Especialidade</th>
                    <th>Motivo</th>
                    <th></th>
                  </tr>
                </thead>
                <tbody *ngIf="!allItemsEncaminhamento.length">
                  <tr class="text-left">
                    <td colspan="99" class="text-secondary">
                      <i>{{
                        object.id
                          ? 'Não há resultados...'
                          : 'Você precisa salvar o formulário primeiro para fazer um encaminhamento!'
                      }}</i>
                    </td>
                  </tr>
                </tbody>
                <tbody *ngIf="allItemsEncaminhamento.length">
                  <tr
                    class="text-left"
                    *ngFor="let item of allItemsEncaminhamento"
                  >
                    <td class="text-secondary">{{ item.nome }}</td>
                    <td class="text-secondary">{{ item.motivo }}</td>
                    <td class="text-secondary text-right">
                      <a
                        *ngIf="!disableFields()"
                        class="btn btn-link"
                        [routerLink]=""
                        (click)="removeEncaminhamento(item)"
                      >
                        <i class="fa fa-trash-alt"></i> Remover
                      </a>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>

      <!-- Participantes da Atividade Coletiva -->
      <div
        class="card mb-4"
        *ngIf="object.idPaciente && object.id && object.tipoFicha == 7"
      >
        <div class="card-header text-left">
          Participantes da Atividade Coletiva
        </div>
        <div class="card-body text-left">
          <div class="row">
            <div class="col-12 mb-3">
              <button
                *ngIf="isVisibleParticipante"
                type="button"
                class="btn btn-primary float-left mr-2"
                (click)="
                  openAtividadeColetivaParticipante(
                    contentAtividadeColetivaParticipante
                  )
                "
              >
                <i class="fa fa-plus-circle"></i>
              </button>

              <button
                type="button"
                class="btn btn-default float-left"
                (click)="findParticipanteAtividadeColetivaPorAtendimento()"
              >
                <i class="fa fa-sync-alt"></i>
              </button>

              <label class="float-right">
                <b>
                  Núm. Participantes: {{ totalParticipantes }}/{{
                    object.numParticipantes
                  }}
                </b>
              </label>
            </div>
            <div class="col-12 table-responsive">
              <table class="table table-striped">
                <thead>
                  <tr>
                    <th>Participante CNS</th>
                    <th>Nome</th>
                    <th>Data Nascimento</th>
                    <th>Sexo</th>
                    <th>Avaliação Alterada</th>
                    <th>Abandonou o grupo</th>
                    <th>Cessou o hábito de fumar</th>
                    <th>Peso</th>
                    <th>Altura</th>
                    <th>Ação</th>
                  </tr>
                </thead>
                <tbody *ngIf="!allParticipantesAtividadeColetiva">
                  <tr class="text-left">
                    <td colspan="99" class="text-secondary">
                      <i>{{
                        object.id
                          ? 'Não há resultados...'
                          : 'Você precisa salvar o formulário primeiro para adicionar um Participante !'
                      }}</i>
                    </td>
                  </tr>
                </tbody>
                <tbody *ngIf="allParticipantesAtividadeColetiva">
                  <tr
                    class="text-left"
                    *ngFor="let item of allParticipantesAtividadeColetiva"
                  >
                    <td class="text-secondary">{{ item.cartaoSus }}</td>
                    <td class="text-secondary">{{ item.nome }}</td>
                    <td class="text-secondary">
                      {{ item.dataNascimento | date: 'dd/MM/yyyy' }}
                    </td>
                    <td class="text-secondary">
                      {{ item.sexo == 1 ? 'Masculino' : 'Feminino' }}
                    </td>
                    <td class="text-secondary">
                      {{ item.avaliacaoAlterada === 1 ? 'Sim' : 'Não' }}
                    </td>
                    <td class="text-secondary">
                      {{ item.abandonouGrupo === 1 ? 'Sim' : 'Não' }}
                    </td>
                    <td class="text-secondary">
                      {{ item.parouFumar === 1 ? 'Sim' : 'Não' }}
                    </td>
                    <td class="text-secondary">{{ item.peso }}</td>
                    <td class="text-secondary">{{ item.altura }}</td>
                    <td class="text-secondary text-left">
                      <a
                        class="btn btn-link"
                        (click)="
                          editParticipanteAtividadeColetivaPorAtendimento(
                            item,
                            contentEditAtividadeColetivaParticipante
                          )
                        "
                        *ngIf="!disableFields()"
                        [routerLink]=""
                      >
                        <i class="fa fa-edit"></i>
                      </a>
                      <a
                        class="btn btn-link"
                        *ngIf="
                          item.idPaciente != object.idPaciente &&
                          !disableFields()
                        "
                        [routerLink]=""
                        (click)="
                          removeParticipanteAtividadeColetivaPorAtendimento(
                            item
                          )
                        "
                      >
                        <i class="fa fa-trash-alt"></i>
                      </a>
                      <a
                        class="btn btn-link"
                        (click)="
                          editParticipanteAtividadeColetivaPorAtendimento(
                            item,
                            contentEditAtividadeColetivaParticipante
                          )
                        "
                        *ngIf="disableFields()"
                        [routerLink]=""
                      >
                        <i class="fa fa-search"></i>
                      </a>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>

      <!-- Profissionais da Atividade Coletiva -->
      <div
        class="card mb-4"
        *ngIf="object.idPaciente && object.id && object.tipoFicha == 7"
      >
        <div class="card-header text-left">
          Profissionais da Atividade Coletiva
        </div>
        <div class="card-body text-left">
          <div class="row">
            <div class="col-12 mb-3">
              <button
                *ngIf="!disableFields()"
                type="button"
                class="btn btn-primary float-left mr-2"
                (click)="
                  openAtividadeColetivaProfissional(
                    contentAtividadeColetivaProfissional
                  )
                "
                [disabled]="!object.id"
              >
                <i class="fa fa-plus-circle"></i>
              </button>
              <button
                type="button"
                class="btn btn-default float-left"
                (click)="findProfissionaisAtividadeColetivaPorAtendimento()"
              >
                <i class="fa fa-sync-alt"></i>
              </button>
            </div>
            <div class="col-12 table-responsive">
              <table class="table table-striped">
                <thead>
                  <tr>
                    <th>Profissional CNS</th>
                    <th>Nome</th>
                    <th>Cargo Profissional</th>
                    <th class="text-secondary text-center">Ação</th>
                  </tr>
                </thead>
                <tbody *ngIf="!allProfissionaisAtividadeColetiva">
                  <tr class="text-left">
                    <td colspan="99" class="text-secondary">
                      <i>{{
                        object.id
                          ? 'Não há resultados...'
                          : 'Você precisa salvar o formulário primeiro para adicionar um Profissional!'
                      }}</i>
                    </td>
                  </tr>
                </tbody>
                <tbody *ngIf="allProfissionaisAtividadeColetiva">
                  <tr
                    class="text-left"
                    *ngFor="let item of allProfissionaisAtividadeColetiva"
                  >
                    <td class="text-secondary">{{ item.profissionalCNS }}</td>
                    <td class="text-secondary">{{ item.nome }}</td>
                    <td class="text-secondary">{{ item.cargoProfissional }}</td>
                    <td class="text-secondary text-center">
                      <a
                        *ngIf="!disableFields()"
                        class="btn btn-link"
                        [routerLink]=""
                        (click)="
                          removeProfissionalAtividadeColetivaPorAtendimento(
                            item
                          )
                        "
                      >
                        <i class="fa fa-trash-alt"></i>
                      </a>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>

      <!-- Situação -->
      <div class="card mb-4" *ngIf="object.idPaciente && object.id">
        <div class="card-body text-left">
          <div class="row">
            <div class="col-xl-5">
              <div class="form-group row">
                <label class="col-xl-4 col-form-label text-left">
                  Situação<span class="text-danger font-weight-bold"> *</span>
                </label>
                <div class="col-xl-8">
                  <select
                    *ngIf="!disableFields()"
                    class="custom-select d-block w-100"
                    [(ngModel)]="object.situacao"
                    formControlName="situacao"
                  >
                    <option [value]="null">Selecione...</option>
                    <option value="0">Sala de espera</option>
                    <option value="C">Em aberto</option>
                    <option value="2">Concluído</option>
                    <option value="A">Alta</option>
                    <option value="E">Evasão</option>
                    <option value="5">
                      Transferência hospitalar/ambulatório
                    </option>
                    <option value="6">Transferência unidade prisional</option>
                    <option value="7">Desinternação</option>
                    <option value="8">Álvara de soltura</option>
                    <option value="O">Óbito</option>
                    <option value="X">Cancelado</option>
                  </select>

                  <select
                    *ngIf="disableFields()"
                    class="custom-select d-block w-100"
                    [(ngModel)]="object.situacao"
                    formControlName="situacao"
                    disabled
                  >
                    <option [value]="null">Selecione...</option>
                    <option value="0">Sala de espera</option>
                    <option value="C">Em aberto</option>
                    <option value="2">Concluído</option>
                    <option value="A">Alta</option>
                    <option value="E">Evasão</option>
                    <option value="5">
                      Transferência hospitalar/ambulatório
                    </option>
                    <option value="6">Transferência unidade prisional</option>
                    <option value="7">Desinternação</option>
                    <option value="8">Álvara de soltura</option>
                    <option value="O">Óbito</option>
                    <option value="X">Cancelado</option>
                  </select>
                </div>
              </div>
            </div>
            <div class="col-xl-6" *ngIf="object.situacao == 'X'">
              <div class="form-group row">
                <label class="col-xl-4 col-form-label text-left">
                  Motivo cancelamento
                </label>
                <div class="col-xl-8">
                  <input
                    type="text"
                    class="form-control has-error"
                    [(ngModel)]="object.motivoCancelamento"
                    formControlName="motivoCancelamento"
                    [readonly]="disableFields()"
                  />
                </div>
              </div>
            </div>
            <div class="col-xl-6" *ngIf="object.situacao != 'X'">
              <div class="form-group row">
                <label class="col-xl-4 col-form-label text-left">
                  Conduta encaminhamento
                </label>
                <div class="col-xl-8">
                  <select
                    *ngIf="domains"
                    class="custom-select d-block w-100"
                    [(ngModel)]="object.condutaEncaminhamento"
                    formControlName="condutaEncaminhamento"
                  >
                    <option [value]="null">Selecione...</option>
                    <option
                      *ngFor="let item of ListcondutaEncaminhamento"
                      [value]="item.id"
                    >
                      {{ item.nome }}
                    </option>
                  </select>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </tab>

    <tab *ngIf="object.id && !idHistorico">
      <ng-template tabHeading>
        <i class="fa fa-history" title="Histórico"></i> Histórico
      </ng-template>
      <div class="card mb-4">
        <div class="row">
          <div class="card-body text-left">
            <div *ngIf="atendimentoHistorico.length" class="timeline">
              <div
                *ngFor="let itemHistorico of atendimentoHistorico"
                class="timeline-item"
              >
                <div class="timeline-badge">
                  <img
                    class="float-left"
                    *ngIf="itemHistorico.fotoProfissional"
                    [src]="pathFiles + itemHistorico.fotoProfissional"
                  />
                  <img
                    class="float-left"
                    *ngIf="!itemHistorico.fotoProfissional"
                    src="assets/imgs/user2-160x160.jpg"
                  />
                </div>
                <div class="timeline-body">
                  <div class="timeline-body-top">
                    {{ itemHistorico.nomeTipoHistorico }}
                  </div>
                  <div class="timeline-body-content">
                    <p>
                      <span class="text-muted"
                        >{{
                          itemHistorico.idTipoAtendimentoHistorico == 7 &&
                          itemHistorico.dataCancelamento
                            ? itemHistorico.dataCancelamento
                            : itemHistorico.idTipoAtendimentoHistorico == 7 &&
                              itemHistorico.dataFinalizacao
                            ? itemHistorico.dataFinalizacao
                            : itemHistorico.dataHistorico
                        }}
                        - </span
                      >Profissional:
                      <b>{{ itemHistorico.nomeProfissional }}</b> executou
                      <b>{{ itemHistorico.nomeTipoHistorico }}</b
                      >.
                    </p>
                    <p>
                      <button
                        class="btn btn-primary"
                        type="button"
                        (click)="
                          openHistorico(
                            contentAtendimentoHistorico,
                            itemHistorico.idHistorico
                          )
                        "
                      >
                        <i class="fa fa-search"></i> Visualizar
                      </button>
                    </p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </tab>

    <tab *ngIf="object.id">
      <ng-template tabHeading>
        <i class="fa fa-upload"></i> Documentos
      </ng-template>

      <div class="card mb-4">
        <div class="card mb-12">
          <div class="card-header text-left">Arquivos</div>
          <div class="card-body text-left">
            <div class="row">
              <div class="col-12">
                <div class="row">
                  <div class="col-12 table-responsive">
                    <div class="form-group row">
                      <table class="table table-striped">
                        <thead>
                          <tr>
                            <th>Nome</th>
                            <th>Data Inclusão</th>
                            <th>Visualizar</th>
                            <th>Remover</th>
                          </tr>
                        </thead>
                        <tbody *ngIf="this.listaArquivosUpload?.length">
                          <tr
                            class="text-left"
                            *ngFor="let item of listaArquivosUpload"
                          >
                            <td class="text-secondary">{{ item.nome }}</td>
                            <td class="text-secondary">
                              {{
                                item.dataCriacao | date: 'dd/MM/yyyy HH:mm:ss'
                              }}
                            </td>

                            <td class="text-secondary">
                              <a
                                class="btn btn-link"
                                *ngIf="item.situacao == '1'"
                                (click)="abrirDocumento(item)"
                              >
                                <i class="fa fa-eye"></i> Visualizar
                              </a>
                            </td>
                            <td class="text-secondary">
                              <a
                                class="btn btn-link"
                                *ngIf="item.situacao == '1'"
                                (click)="removeItemArquivo(item)"
                              >
                                <i class="fa fa-trash-alt"></i> Remover
                              </a>
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                    <div class="form-group text-right">
                      <button
                        type="button"
                        class="btn btn-lg btn-outline-primary"
                        (click)="openModal(content)"
                      >
                        Upload documentos
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </tab>
  </tabset>

  <div class="form-group text-right">
    <button
      class="btn btn-primary"
      type="submit"
      [disabled]="
        form.invalid ||
        (object.id && obrigaCiap2 != 0 && allItemsCondicaoAvaliada.length === 0)
      "
      *ngIf="object.idPaciente && !disableFields()"
    >
      <i class="fa fa-save"></i>
      {{ !object.id ? 'Criar atendimento' : 'Salvar' }}
    </button>
    <button (click)="back()" class="btn btn-default" type="button">
      <i class="fa fa-arrow-left"></i> Retornar
    </button>
  </div>
</form>

<ng-template #contentAtendimentoHistorico>
  <div class="modal-header">
    <div class="row">
      <div class="col-xl-12">
        <h4 class="modal-title text-left">Histórico do atendimento</h4>
      </div>
      <div class="col-xl-12 text-left">
        <span class="text-muted">{{ dataHistorico }} - </span>Profissional:
        <b>{{ nomeProfissional }}</b> executou <b>{{ nomeTipoHistorico }}</b
        >.
      </div>
    </div>
    <button type="button" class="close" (click)="close()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <form [formGroup]="formHistorico" *ngIf="objectHistorico">
      <div class="card mb-4">
        <div class="card-header text-left">
          Dados da abertura do atendimento
        </div>
        <div class="card-body text-left">
          <div class="row">
            <div class="col-xl-12">
              <div class="form-group row">
                <label class="col-xl-2 col-form-label text-left">
                  Tipo de ficha<span class="text-danger font-weight-bold">
                    *</span
                  >
                </label>
                <div class="col-xl-4">
                  <select
                    (change)="change($event)"
                    *ngIf="domains"
                    class="custom-select d-block w-100"
                    [(ngModel)]="objectHistorico.tipoFicha"
                    formControlName="tipoFicha"
                  >
                    <option [value]="null">Selecione...</option>
                    <option
                      *ngFor="let item of domains[0]?.tipoFichas"
                      [value]="item.id"
                    >
                      {{ item.nome }}
                    </option>
                  </select>
                </div>
                <label class="col-xl-2 col-form-label text-left">
                  Classificação de risco<span
                    class="text-danger font-weight-bold"
                  >
                    *</span
                  >
                </label>
                <div class="col-xl-4">
                  <select
                    *ngIf="domains"
                    class="custom-select d-block w-100"
                    [(ngModel)]="objectHistorico.idClassificacaoRisco"
                    formControlName="idClassificacaoRisco"
                  >
                    <option [value]="null">Selecione...</option>
                    <option
                      *ngFor="let item of domains[0]?.classificacaoRiscos"
                      [value]="item.id"
                    >
                      {{ item.nome }}
                    </option>
                  </select>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-xl-12">
              <div class="form-group row">
                <label class="col-xl-2 col-form-label text-left">
                  Motivo da queixa<span
                    class="text-danger font-weight-bold"
                  ></span>
                </label>
                <div class="col-xl-10">
                  <textarea
                    rows="4"
                    class="form-control has-error"
                    [(ngModel)]="objectHistorico.motivoQueixa"
                    formControlName="motivoQueixa"
                    [readonly]="disableFields()"
                  ></textarea>
                </div>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-xl-6">
              <div class="form-group row">
                <label class="col-xl-4 col-form-label text-left">
                  Ficou em Observação
                </label>
                <div class="col-xl-8">
                  <div
                    class="custom-control custom-checkbox"
                    style="width: 25px"
                  >
                    <input
                      type="checkbox"
                      id="ficouEmObservacaoHistorico"
                      [(ngModel)]="objectHistorico.ficouEmObservacao"
                      formControlName="ficouEmObservacao"
                      class="custom-control-input"
                      [readonly]="disableFields()"
                    />
                    <label
                      class="custom-control-label"
                      for="ficouEmObservacao"
                    ></label>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-xl-6">
              <div class="form-group row">
                <label class="col-xl-4 col-form-label text-left">
                  Integrar PEC (e-SUS)
                </label>
                <div class="col-xl-8">
                  <div
                    class="custom-control custom-checkbox"
                    style="width: 25px"
                  >
                    <input
                      type="checkbox"
                      id="integracaoPEC"
                      [(ngModel)]="objectHistorico.integracaoPEC"
                      formControlName="integracaoPEC"
                      class="custom-control-input"
                      [readonly]="disableFields()"
                    />
                    <label
                      class="custom-control-label"
                      for="integracaoPEC"
                    ></label>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-xl-12">
              <div class="form-group row">
                <label class="col-xl-2 col-form-label text-left">
                  Tipo de Atendimento
                </label>
                <div class="col-xl-10">
                  <select
                    *ngIf="domains"
                    class="custom-select d-block w-100"
                    [(ngModel)]="objectHistorico.tipoAtendimento"
                    formControlName="tipoAtendimento"
                  >
                    <option [value]="null">Selecione...</option>
                    <option
                      *ngFor="let item of domains[0]?.tipoAtendimento"
                      [value]="item.id"
                    >
                      {{ item.nome }}
                    </option>
                  </select>
                </div>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-xl-12">
              <div class="form-group row">
                <label class="col-xl-2 col-form-label text-left">
                  Local de atendimento
                </label>
                <div class="col-xl-4">
                  <select
                    (change)="changeLocal($event)"
                    *ngIf="domains"
                    class="custom-select d-block w-100"
                    [(ngModel)]="objectHistorico.localDeAtendimento"
                    formControlName="localDeAtendimento"
                  >
                    <option [value]="null">Selecione...</option>
                    <option
                      *ngFor="let item of domains[0]?.localDeAtendimento"
                      [value]="item.id"
                    >
                      {{ item.nome }}
                    </option>
                  </select>
                </div>
                <label
                  *ngIf="localAtendimento > 1"
                  class="col-xl-2 col-form-label text-left"
                >
                  Modalidade
                </label>
                <div *ngIf="localAtendimento > 1" class="col-xl-4">
                  <select
                    *ngIf="domains"
                    class="custom-select d-block w-100"
                    [(ngModel)]="objectHistorico.modalidade"
                    formControlName="modalidade"
                  >
                    <option [value]="null">Selecione...</option>
                    <option
                      *ngFor="let item of domains[0]?.modalidade"
                      [value]="item.id"
                    >
                      {{ item.nome }}
                    </option>
                  </select>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Ficha de Atividade Coletiva -->
      <div *ngIf="objectHistorico.tipoFicha == 7" class="card mb-4">
        <div class="card-header text-left">Dados da Atividade Coletiva</div>
        <div class="card-body text-left">
          <div class="row">
            <div class="col-xl-6">
              <div class="form-group row">
                <label class="col-xl-4 col-form-label text-left"> Inep </label>
                <div class="col-xl-8">
                  <input
                    readonly
                    type="text"
                    class="form-control has-error"
                    [(ngModel)]="objectHistorico.inep"
                    formControlName="inep"
                  />
                </div>
              </div>
            </div>
            <div class="col-xl-6">
              <div class="form-group row">
                <label class="col-xl-4 col-form-label text-left">
                  Núm de participantes
                </label>
                <div class="col-xl-8">
                  <input
                    readonly
                    type="number"
                    min="1"
                    max="999"
                    class="form-control has-error"
                    [(ngModel)]="objectHistorico.numParticipantes"
                    formControlName="numParticipantes"
                  />
                </div>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-xl-6">
              <div class="form-group row">
                <label class="col-xl-4 col-form-label text-left">
                  Tipo de Atv.
                </label>
                <div class="col-xl-8">
                  <select
                    *ngIf="domains"
                    class="custom-select d-block w-100"
                    [(ngModel)]="objectHistorico.atividadeTipo"
                    formControlName="atividadeTipo"
                  >
                    <option [value]="null">Selecione...</option>
                    <option
                      *ngFor="let item of domains[0]?.atividadeTipo"
                      [value]="item.id"
                    >
                      {{ item.nome }}
                    </option>
                  </select>
                </div>
              </div>
            </div>
            <div class="col-xl-6">
              <div class="form-group row">
                <label class="col-xl-4 col-form-label text-left">
                  Temas da Atv.
                </label>
                <div class="col-xl-8">
                  <select
                    readonly
                    *ngIf="domains"
                    class="custom-select d-block w-100"
                    [(ngModel)]="objectHistorico.temasParaReuniao"
                    formControlName="temasParaReuniao"
                  >
                    <option
                      *ngFor="let item of domains[0]?.atividadeTemas"
                      [value]="item.id"
                    >
                      {{ item.nome }}
                    </option>
                  </select>
                </div>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-xl-6">
              <div class="form-group row">
                <label class="col-xl-4 col-form-label text-left">
                  Público Alvo
                </label>
                <div class="col-xl-8">
                  <select
                    readonly
                    *ngIf="domains"
                    class="custom-select d-block w-100"
                    [(ngModel)]="objectHistorico.publicoAlvo"
                    formControlName="publicoAlvo"
                  >
                    <option
                      *ngFor="let item of domains[0]?.atividadePublico"
                      [value]="item.id"
                    >
                      {{ item.nome }}
                    </option>
                  </select>
                </div>
              </div>
            </div>
            <div class="col-xl-6">
              <div class="form-group row">
                <label class="col-xl-4 col-form-label text-left">
                  Práticas em Saude
                </label>
                <div class="col-xl-8">
                  <select
                    readonly
                    *ngIf="domains"
                    class="custom-select d-block w-100"
                    [(ngModel)]="objectHistorico.praticasEmSaude"
                    formControlName="praticasEmSaude"
                  >
                    <option
                      *ngFor="let item of domains[0]?.atividadePraticasSaude"
                      [value]="item.id"
                    >
                      {{ item.nome }}
                    </option>
                  </select>
                </div>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-xl-6">
              <div class="form-group row">
                <label class="col-xl-4 col-form-label text-left">
                  Temas para Saude
                </label>
                <div class="col-xl-8">
                  <select
                    readonly
                    *ngIf="domains"
                    class="custom-select d-block w-100"
                    [(ngModel)]="objectHistorico.temasParaSaude"
                    formControlName="temasParaSaude"
                  >
                    <option
                      *ngFor="let item of domains[0]?.atividadeTemasSaude"
                      [value]="item.id"
                    >
                      {{ item.nome }}
                    </option>
                  </select>
                </div>
              </div>
            </div>
            <div class="col-xl-6">
              <div class="form-group row">
                <label class="col-xl-4 col-form-label text-left">
                  Procedimentos SIGTAP
                </label>
                <div class="col-xl-8">
                  <select
                    readonly
                    *ngIf="domains"
                    class="custom-select d-block w-100"
                    [(ngModel)]="objectHistorico.procedimento"
                    formControlName="procedimento"
                  >
                    <option
                      *ngFor="let item of domains[0]?.atividadeProcedimento"
                      [value]="item.id"
                    >
                      {{ item.nome }}
                    </option>
                  </select>
                </div>
              </div>
            </div>
          </div>

          <div class="row" style="margin-top: 10px">
            <div class="col-xl-6">
              <div class="form-group row">
                <label class="col-xl-4 col-form-label text-left">
                  PSE Saúde
                </label>
                <div class="col-xl-8">
                  <div
                    class="custom-control custom-checkbox"
                    style="width: 25px"
                  >
                    <input
                      readonly
                      type="checkbox"
                      id="pseSaude"
                      [(ngModel)]="objectHistorico.pseSaude"
                      formControlName="pseSaude"
                      class="custom-control-input"
                    />
                    <label class="custom-control-label" for="pseSaude"></label>
                  </div>
                </div>
              </div>
            </div>

            <div class="col-xl-6">
              <div class="form-group row">
                <label class="col-xl-4 col-form-label text-left">
                  PSE Educação
                </label>
                <div class="col-xl-8">
                  <div
                    class="custom-control custom-checkbox"
                    style="width: 25px"
                  >
                    <input
                      readonly
                      type="checkbox"
                      id="pseEducacao"
                      [(ngModel)]="objectHistorico.pseEducacao"
                      formControlName="pseEducacao"
                      class="custom-control-input"
                    />
                    <label
                      class="custom-control-label"
                      for="pseEducacao"
                    ></label>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="row" style="margin-top: 10px">
            <div class="col-xl-6">
              <div class="form-group row">
                <label class="col-xl-4 col-form-label text-left">
                  Avaliação Alterada
                </label>
                <div class="col-xl-8">
                  <div
                    class="custom-control custom-checkbox"
                    style="width: 25px"
                  >
                    <input
                      type="checkbox"
                      id="pseSaude"
                      [(ngModel)]="objectHistorico.pseSaude"
                      formControlName="pseSaude"
                      class="custom-control-input"
                    />
                    <label class="custom-control-label" for="pseSaude"></label>
                  </div>
                </div>
              </div>
            </div>

            <div class="col-xl-6">
              <div class="form-group row">
                <label class="col-xl-4 col-form-label text-left">
                  Cessou o hábito de fumar
                </label>
                <div class="col-xl-8">
                  <div
                    class="custom-control custom-checkbox"
                    style="width: 25px"
                  >
                    <input
                      type="checkbox"
                      id="pseEducacao"
                      [(ngModel)]="objectHistorico.pseEducacao"
                      formControlName="pseEducacao"
                      class="custom-control-input"
                    />
                    <label
                      class="custom-control-label"
                      for="pseEducacao"
                    ></label>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="row" style="margin-top: 10px">
            <div class="col-xl-6">
              <div class="form-group row">
                <label class="col-xl-4 col-form-label text-left">
                  Abandonou o grupo
                </label>
                <div class="col-xl-8">
                  <div
                    class="custom-control custom-checkbox"
                    style="width: 25px"
                  >
                    <input
                      type="checkbox"
                      id="pseSaude"
                      [(ngModel)]="objectHistorico.pseSaude"
                      formControlName="pseSaude"
                      class="custom-control-input"
                    />
                    <label class="custom-control-label" for="pseSaude"></label>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div *ngIf="objectHistorico.tipoFicha != 7">
        <div class="card mb-4">
          <div class="card-header text-left">Sinais vitais</div>
          <div class="card-body text-left">
            <div class="row">
              <div class="col-xl-6">
                <div class="form-group row">
                  <label class="col-xl-4 col-form-label text-left">
                    Pressão arterial
                  </label>
                  <div class="col-xl-8">
                    <input
                      type="text"
                      class="form-control has-error"
                      [(ngModel)]="objectHistorico.pressaoArterial"
                      formControlName="pressaoArterial"
                      [readonly]="disableFields()"
                    />
                  </div>
                </div>
              </div>
              <div class="col-xl-6">
                <div class="form-group row">
                  <label class="col-xl-4 col-form-label text-left">
                    Pulso
                  </label>
                  <div class="col-xl-8">
                    <input
                      type="text"
                      class="form-control has-error"
                      [(ngModel)]="objectHistorico.pulso"
                      formControlName="pulso"
                      [readonly]="disableFields()"
                      currencyMask
                      [options]="{
                        prefix: '',
                        thousands: '.',
                        decimal: ',',
                        align: 'left'
                      }"
                    />
                  </div>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-xl-6">
                <div class="form-group row">
                  <label class="col-xl-4 col-form-label text-left">
                    Saturação 02
                  </label>
                  <div class="col-xl-8">
                    <input
                      type="text"
                      class="form-control has-error"
                      [(ngModel)]="objectHistorico.saturacao"
                      formControlName="saturacao"
                      [readonly]="disableFields()"
                      currencyMask
                      [options]="{
                        prefix: '',
                        thousands: '.',
                        decimal: ',',
                        align: 'left'
                      }"
                    />
                  </div>
                </div>
              </div>
              <div class="col-xl-6">
                <div class="form-group row">
                  <label class="col-xl-4 col-form-label text-left">
                    Temperatura
                  </label>
                  <div class="col-xl-8">
                    <input
                      type="text"
                      class="form-control has-error"
                      [(ngModel)]="objectHistorico.temperatura"
                      formControlName="temperatura"
                      [readonly]="disableFields()"
                      currencyMask
                      [options]="{
                        prefix: '',
                        thousands: '.',
                        decimal: ',',
                        align: 'left'
                      }"
                    />
                  </div>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-xl-6">
                <div class="form-group row">
                  <label class="col-xl-4 col-form-label text-left">
                    Altura
                  </label>
                  <div class="col-xl-8">
                    <input
                      type="text"
                      class="form-control has-error"
                      [(ngModel)]="objectHistorico.altura"
                      formControlName="altura"
                      [readonly]="disableFields()"
                      currencyMask
                      [options]="{
                        prefix: '',
                        thousands: '.',
                        decimal: ',',
                        align: 'left'
                      }"
                    />
                  </div>
                </div>
              </div>
              <div class="col-xl-6">
                <div class="form-group row">
                  <label class="col-xl-4 col-form-label text-left">
                    Peso
                  </label>
                  <div class="col-xl-8">
                    <input
                      type="text"
                      class="form-control has-error"
                      [(ngModel)]="objectHistorico.peso"
                      formControlName="peso"
                      [readonly]="disableFields()"
                      currencyMask
                      [options]="{
                        prefix: '',
                        thousands: '.',
                        decimal: ',',
                        align: 'left'
                      }"
                    />
                  </div>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-xl-6">
                <div class="form-group row">
                  <label class="col-xl-4 col-form-label text-left">
                    Glicemia
                  </label>
                  <div class="col-xl-8">
                    <input
                      type="text"
                      class="form-control has-error"
                      [(ngModel)]="objectHistorico.glicemia"
                      formControlName="glicemia"
                      [readonly]="disableFields()"
                      currencyMask
                      [options]="{
                        prefix: '',
                        thousands: '.',
                        decimal: ',',
                        align: 'left'
                      }"
                    />
                  </div>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-xl-12">
                <div class="form-group row">
                  <label class="col-xl-2 col-form-label text-left">
                    Vacinas Em dia
                  </label>
                  <div class="col-xl-10">
                    <div
                      class="custom-control custom-checkbox"
                      style="width: 25px"
                    >
                      <input
                        type="checkbox"
                        id="vacinasEmDia"
                        [(ngModel)]="objectHistorico.vacinasEmDia"
                        formControlName="vacinasEmDia"
                        class="custom-control-input"
                        [readonly]="disableFields()"
                      />
                      <label
                        class="custom-control-label"
                        for="vacinasEmDia"
                      ></label>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="card mb-4">
          <div class="card-header text-left">Análise física</div>
          <div class="card-body text-left">
            <div class="row">
              <div class="col-xl-6">
                <div class="form-group row">
                  <label class="col-xl-4 col-form-label text-left">
                    Exame físico
                  </label>
                  <div class="col-xl-8">
                    <textarea
                      rows="4"
                      class="form-control has-error"
                      [(ngModel)]="objectHistorico.exameFisico"
                      formControlName="exameFisico"
                      [readonly]="disableFields()"
                    ></textarea>
                  </div>
                </div>
              </div>
              <div class="col-xl-6">
                <div class="form-group row">
                  <label class="col-xl-4 col-form-label text-left">
                    Observações gerais
                  </label>
                  <div class="col-xl-8">
                    <textarea
                      rows="4"
                      class="form-control has-error"
                      [(ngModel)]="objectHistorico.observacoesGerais"
                      formControlName="observacoesGerais"
                      [readonly]="disableFields()"
                    ></textarea>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="card mb-4">
          <div class="card-header text-left">Histórico</div>
          <div class="card-body text-left">
            <div class="row">
              <div class="col-xl-12">
                <div class="form-group row">
                  <label class="col-xl-2 col-form-label text-left">
                    História progressa/familiar
                  </label>
                  <div class="col-xl-10">
                    <textarea
                      rows="3"
                      class="form-control has-error"
                      [(ngModel)]="objectHistorico.pacienteHistoriaProgressa"
                      formControlName="pacienteHistoriaProgressa"
                      [readonly]="disableFields()"
                    ></textarea>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="card mb-4">
          <div class="card-header text-left">Anamnese/Evolução</div>
          <div class="card-body text-left">
            <div class="row">
              <div class="col-xl-12">
                <div class="form-group row">
                  <label class="col-xl-2 col-form-label text-left">
                    Tipo<span class="text-danger font-weight-bold"> *</span>
                  </label>
                  <div class="col-xl-10">
                    <select
                      *ngIf="domains"
                      class="custom-select d-block w-100"
                      [(ngModel)]="objectHistorico.tipoHistoriaClinica"
                      formControlName="tipoHistoriaClinica"
                    >
                      <option [value]="0">Selecione...</option>
                      <option
                        *ngFor="let item of domains[0]?.tipoHistoriaClinica"
                        [value]="item.id"
                      >
                        {{ item.nome }}
                      </option>
                    </select>
                  </div>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-xl-12">
                <div class="form-group row">
                  <label class="col-xl-2 col-form-label text-left">
                    Descrição<span class="text-danger font-weight-bold">
                      *</span
                    >
                  </label>
                  <div class="col-xl-10">
                    <textarea
                      rows="4"
                      class="form-control has-error"
                      [(ngModel)]="objectHistorico.historicoClinico"
                      formControlName="historicoClinico"
                      [readonly]="disableFields()"
                    ></textarea>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="card mb-4">
          <div class="card-header text-left">Hipótese diagnostica</div>
          <div class="card-body text-left">
            <div class="row">
              <div class="col-12 table-responsive">
                <table class="table table-striped">
                  <thead>
                    <tr>
                      <th>Codigo (CID 10)</th>
                      <th>Diagnóstico</th>
                    </tr>
                  </thead>
                  <tbody *ngIf="!allItemsHipotese.length">
                    <tr class="text-left">
                      <td colspan="99" class="text-secondary">
                        <i>Não há resultados...</i>
                      </td>
                    </tr>
                  </tbody>
                  <tbody *ngIf="allItemsHipotese.length">
                    <tr class="text-left" *ngFor="let item of allItemsHipotese">
                      <td class="text-secondary">{{ item.codigo }}</td>
                      <td class="text-secondary">{{ item.nome }}</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>

        <div class="card mb-4">
          <div class="card-header text-left">Procedimentos</div>
          <div class="card-body text-left">
            <div class="row">
              <div class="col-12 table-responsive">
                <table class="table table-striped">
                  <thead>
                    <tr>
                      <th>Código</th>
                      <th>Nome</th>
                      <th></th>
                    </tr>
                  </thead>
                  <tbody *ngIf="!allItemsProcedimento.length">
                    <tr class="text-left">
                      <td colspan="99" class="text-secondary">
                        <i>Não há resultados...</i>
                      </td>
                    </tr>
                  </tbody>
                  <tbody *ngIf="allItemsProcedimento.length">
                    <tr
                      class="text-left"
                      *ngFor="let item of allItemsProcedimento"
                    >
                      <td class="text-secondary">{{ item.co_procedimento }}</td>
                      <td class="text-secondary">{{ item.no_procedimento }}</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>

        <div class="card mb-4">
          <div class="card-header text-left">Prescrição Medicamentos</div>
          <div class="card-body text-left">
            <div class="row">
              <div class="col-12 table-responsive">
                <table class="table table-striped">
                  <thead>
                    <tr>
                      <th>Medicamento</th>
                      <th>Uso</th>
                      <th>Tipo via</th>
                      <th>Quantidade</th>
                      <th>Apresentação</th>
                      <th>Posologia</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr class="text-left">
                      <td
                        colspan="99"
                        class="text-secondary"
                        *ngIf="!allItemsMedicamento.length"
                      >
                        <i>Não há resultados...</i>
                      </td>
                    </tr>
                  </tbody>
                  <tbody *ngIf="allItemsMedicamento.length">
                    <tr
                      class="text-left"
                      *ngFor="let item of allItemsMedicamento"
                    >
                      <td class="text-secondary">
                        {{ item.descricaoMaterial }}
                      </td>
                      <td class="text-secondary">{{ item.uso }}</td>
                      <td class="text-secondary">{{ item.tipoVia }}</td>
                      <td class="text-secondary">{{ item.quantidade }}</td>
                      <td class="text-secondary">{{ item.apresentacao }}</td>
                      <td class="text-secondary">{{ item.posologia }}</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>

        <div class="card mb-4">
          <div class="card-header text-left">Vacinas</div>
          <div class="card-body text-left">
            <div class="row">
              <div class="col-12 table-responsive">
                <table class="table table-striped">
                  <thead>
                    <tr>
                      <th>Nome</th>
                      <th>Validade</th>
                      <th>Lote</th>
                      <th>Profissional</th>
                      <th></th>
                    </tr>
                  </thead>
                  <tbody *ngIf="!allItemsVacina.length">
                    <tr class="text-left">
                      <td colspan="99" class="text-secondary">
                        <i>Não há resultados...</i>
                      </td>
                    </tr>
                  </tbody>
                  <tbody *ngIf="allItemsVacina.length">
                    <tr class="text-left" *ngFor="let item of allItemsVacina">
                      <td class="text-secondary">{{ item.nome }}</td>
                      <td class="text-secondary">
                        {{ item.validade | date: 'dd/MM/yyyy' }}
                      </td>
                      <td class="text-secondary">{{ item.lote }}</td>
                      <td class="text-secondary">
                        {{ item.nomeProfissional }}
                      </td>
                      <td class="text-secondary text-right"></td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>

        <div class="card mb-4">
          <div class="card-header text-left">Encaminhamento Especialidade</div>
          <div class="card-body text-left">
            <div class="row">
              <div class="col-12 table-responsive">
                <table class="table table-striped">
                  <thead>
                    <tr>
                      <th>Especialidade</th>
                      <th>Motivo</th>
                    </tr>
                  </thead>
                  <tbody *ngIf="!allItemsEncaminhamento.length">
                    <tr class="text-left">
                      <td colspan="99" class="text-secondary">
                        <i>Não há resultados...</i>
                      </td>
                    </tr>
                  </tbody>
                  <tbody *ngIf="allItemsEncaminhamento.length">
                    <tr
                      class="text-left"
                      *ngFor="let item of allItemsEncaminhamento"
                    >
                      <td class="text-secondary">{{ item.nome }}</td>
                      <td class="text-secondary">{{ item.motivo }}</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="card mb-4">
        <div class="card-body text-left">
          <div class="row">
            <div class="col-xl-5">
              <div class="form-group row">
                <label class="col-xl-4 col-form-label text-left">
                  Situação<span class="text-danger font-weight-bold"> *</span>
                </label>
                <div class="col-xl-8">
                  <select
                    class="custom-select d-block w-100"
                    [(ngModel)]="objectHistorico.situacao"
                    formControlName="situacao"
                    disabled
                  >
                    <option [value]="null">Selecione...</option>
                    <option value="0">Sala de espera</option>
                    <option value="C">Em aberto</option>
                    <option value="2">Concluído</option>
                    <option value="A">Alta</option>
                    <option value="E">Evasão</option>
                    <option value="5">
                      Transferência hospitalar/ambulatório
                    </option>
                    <option value="6">Transferência unidade prisional</option>
                    <option value="7">Desinternação</option>
                    <option value="8">Álvara de soltura</option>
                    <option value="O">Óbito</option>
                    <option value="X">Cancelado</option>
                  </select>
                </div>
              </div>
            </div>
            <div class="col-xl-6" *ngIf="objectHistorico.situacao == 'X'">
              <div class="form-group row">
                <label class="col-xl-4 col-form-label text-left">
                  Motivo cancelamento
                </label>
                <div class="col-xl-8">
                  <input
                    type="text"
                    class="form-control has-error"
                    [(ngModel)]="objectHistorico.motivoCancelamento"
                    formControlName="motivoCancelamento"
                    [readonly]="true"
                  />
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </form>
  </div>
</ng-template>

<ng-template #contentClient>
  <div class="modal-header">
    <h4 class="modal-title">Localizar paciente</h4>
    <button
      type="button"
      class="close"
      aria-label="Close"
      (click)="closeLocalizacaoPaciente()"
    >
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div *ngIf="errors.length" class="alert alert-danger">
      <div *ngFor="let error of errors" class="row">
        <div class="col-12 text-left">
          {{ error.message }}
        </div>
      </div>
    </div>

    <div class="form-group row">
      <label class="col-xl-4 col-sm-12 col-form-label text-left">
        Cartao SUS do paciente:
      </label>
      <div class="col-xl-8 col-sm-12">
        <input
          type="text"
          mask="9999999999999999999999"
          class="form-control has-error"
          [(ngModel)]="paciente.cartaoSus"
          autofocus
        />
      </div>
    </div>

    <div class="form-group row">
      <label class="col-xl-4 col-sm-12 col-form-label text-left">
        Número SAP do paciente:
      </label>
      <div class="col-xl-8 col-sm-12">
        <input
          type="text"
          mask="99999999999999999999"
          class="form-control has-error"
          [(ngModel)]="paciente.idSap"
          autofocus
        />
      </div>
    </div>

    <div class="form-group row">
      <label class="col-xl-4 col-sm-12 col-form-label text-left">
        Nome do paciente:
      </label>
      <div class="col-xl-8 col-sm-12">
        <input
          type="text"
          class="form-control has-error"
          [(ngModel)]="paciente.nome"
        />
      </div>
    </div>

    <div class="form-group row">
      <div class="col-12">
        <button
          [routerLink]=""
          class="btn btn-primary float-right"
          [disabled]="togglePaciente()"
          (click)="buscaPaciente()"
        >
          <i *ngIf="loading" class="fa fa-circle-o-notch fa-spin text-left">
            <i class="fa fa-spinner"></i>
          </i>
          <i *ngIf="!loading" class="fas fa-search"></i>
        </button>

        <a
          [routerLink]=""
          (click)="clear()"
          class="btn btn-default text-secondary mr-2 float-right"
          style="border: 1px solid #d1d1d1"
        >
          <i class="fas fa-eraser"></i>
        </a>
      </div>
    </div>

    <div class="form-group row">
      <div class="col-12 table-responsive">
        <table class="table table-striped">
          <thead>
            <tr>
              <th></th>
              <th *ngFor="let field of fieldsPacientes" class="text-left">
                {{ field.label }}
              </th>
            </tr>
          </thead>
          <tbody
            *ngFor="
              let item of allItems;
              let index = index;
              let odd = odd;
              let even = even
            "
          >
            <tr class="text-left" [ngClass]="{ odd: odd, even: even }">
              <td class="text-secondary">
                <div
                  class="custom-control custom-radio float-left"
                  *ngIf="item.idEstabelecimento && item.idEstabelecimento > 0"
                >
                  <input
                    type="radio"
                    (change)="selecionaPaciente(item)"
                    class="custom-control-input"
                    id="{{ item.id }}"
                    name="radio-item"
                  />
                  <label class="custom-control-label" for="{{ item.id }}"
                    >&nbsp;</label
                  >
                </div>
                <div
                  class="float-left"
                  *ngIf="!item.idEstabelecimento || item.idEstabelecimento <= 0"
                >
                  <i
                    class="fa fa-ban text-left"
                    title="Paciente vinculado a outro estabelecimento ({{
                      item.nomeEstabelecimento
                    }})"
                    style="color: red"
                  ></i>
                </div>
              </td>
              <td *ngFor="let field of fieldsPacientes">
                <label for="{{ item.id }}">
                  {{
                    field.isDate
                      ? item[field.field]
                      : field.isDateTime
                      ? (item[field.field] | date: 'dd/MM/yyyy HH:mm')
                      : field.translate
                      ? translate(item[field.field], field.translate)
                      : field.decimalMask
                      ? toCurrency(
                          item[field.field] | currency: 'R$ ' : true : '1.2-2',
                          field.decimalMask
                        )
                      : field.docMask
                      ? maskDocument(item[field.field])
                      : item[field.field]
                  }}
                </label>
              </td>
            </tr>
          </tbody>

          <tbody *ngIf="!allItems || allItems.length == 0">
            <tr class="text-left">
              <td colspan="99" class="text-secondary">
                <i>Não há resultados...</i>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <div class="row mb-4">
      <div
        *ngIf="allItems && allItems.length"
        class="text text-secondary col-md-12 pr-0 mx-auto"
      >
        <i>
          Exibindo
          {{
            paging.offset === totalPages - 1
              ? paging.total
              : (paging.offset + 1) * paging.limit
          }}
          de
          {{ paging.total }}
          resultado(s).
        </i>
      </div>
    </div>

    <div class="row mb-2 mt-4">
      <ul *ngIf="allItems && allItems.length" class="pagination mx-auto">
        <li class="page-item" [ngClass]="{ disabled: paging.offset === 0 }">
          <a class="page-link" (click)="setPagePagined(0)">
            <i class="fas fa-angle-double-left"></i>
          </a>
        </li>
        <li class="page-item" [ngClass]="{ disabled: paging.offset === 0 }">
          <a class="page-link" (click)="setPagePagined(paging.offset - 1)">
            <i class="fas fa-angle-left"></i>
          </a>
        </li>
        <li>
          <select
            (change)="loadQuantityPerPagePagination($event, 'paciente')"
            class="custom-select d-block w-100"
            style="border: 1px solid #dee2e6"
          >
            <option [ngValue]="10">10</option>
            <option [ngValue]="25">25</option>
            <option [ngValue]="50">50</option>
          </select>
        </li>
        <li
          class="page-item"
          [ngClass]="{ disabled: paging.offset === totalPages - 1 }"
        >
          <a class="page-link" (click)="setPagePagined(paging.offset + 1)">
            <i class="fas fa-angle-right"></i>
          </a>
        </li>
        <li
          class="page-item"
          [ngClass]="{ disabled: paging.offset === totalPages - 1 }"
        >
          <a class="page-link" (click)="setPagePagined(totalPages - 1)">
            <i class="fas fa-angle-double-right"></i>
          </a>
        </li>
      </ul>
    </div>

    <div class="form-group row text-right">
      <div class="col-12">
        <button
          *ngIf="object.tipoFicha != 7"
          class="btn btn-primary mr-2"
          type="button"
          [disabled]="pacienteSelecionado == null"
          (click)="confirmaPaciente()"
        >
          <i class="fa fa-plus-circle"></i> Carregar seleção
        </button>

        <button
          *ngIf="object.tipoFicha == 7"
          class="btn btn-primary mr-2"
          type="button"
          [disabled]="participanteSelecionadoAtividadeColetiva == null"
          (click)="confirmaPaciente()"
        >
          <i class="fa fa-plus-circle"></i> Carregar seleção
        </button>

        <button
          class="btn btn-default"
          (click)="closeLocalizacaoPaciente()"
          type="button"
        >
          <i class="fa fa-times"></i> Cancelar
        </button>
      </div>
    </div>
  </div>
</ng-template>

<ng-template #contentRemove>
  <div class="modal-header">
    <h4 class="modal-title">Remover registro</h4>
    <button type="button" class="close" (click)="close()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <p>Deseja realmente remover este registro?</p>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-danger">Remover</button>
    <button type="button" class="btn btn-outline-dark" (click)="close()">
      Cancelar
    </button>
  </div>
</ng-template>

<ng-template #contentConfirmacao>
  <div class="modal-header">
    <h4 class="modal-title">Complementar atendimento</h4>
    <button type="button" class="close" (click)="close()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <p>Deseja complementar o atendimento?</p>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-primary" (click)="close()">Sim</button>
    <button type="button" class="btn btn-danger" (click)="back()">Não</button>
  </div>
</ng-template>

<ng-template #contentHipotese>
  <div class="modal-header">
    <h4 class="modal-title">Hipótese diagnóstica</h4>
    <button type="button" class="close" aria-label="Close" (click)="close()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div *ngIf="errors.length" class="alert alert-danger">
      <div *ngFor="let error of errors" class="row">
        <div class="col-12 text-left">
          {{ error.message }}
        </div>
      </div>
    </div>
    <div class="form-group row">
      <label class="col-xl-4 col-sm-12 col-form-label text-left">
        Nome da hipótese:
      </label>
      <div class="col-xl-8 col-sm-12">
        <input
          type="text"
          class="form-control has-error"
          [(ngModel)]="hipoteseDiagnostica.nome"
        />
      </div>
    </div>
    <div class="form-group row">
      <label class="col-xl-4 col-sm-12 col-form-label text-left">
        CID 10:
      </label>
      <div class="col-xl-8 col-sm-12">
        <input
          type="text"
          class="form-control has-error"
          [(ngModel)]="hipoteseDiagnostica.cid_10"
        />
      </div>
    </div>
    <div class="form-group row">
      <div class="col-12">
        <button
          [routerLink]=""
          class="btn btn-primary float-right"
          (click)="pesquisaHipoteseDiagnostica()"
        >
          <i *ngIf="loading" class="fa fa-circle-o-notch fa-spin text-left">
            <i class="fa fa-spinner"></i>
          </i>
          <i *ngIf="!loading" class="fas fa-search"></i>
        </button>
      </div>
    </div>

    <div class="form-group row">
      <div class="col-12 table-responsive">
        <table class="table table-striped">
          <thead>
            <tr class="text-left">
              <th></th>
              <th>Código</th>
              <th>Descrição</th>
            </tr>
          </thead>
          <tbody
            *ngFor="
              let item of allItemsPesquisaHipoteseDiagnostica;
              let index = index;
              let odd = odd;
              let even = even
            "
          >
            <tr class="text-left" [ngClass]="{ odd: odd, even: even }">
              <td class="text-secondary">
                <div class="custom-control custom-radio float-left">
                  <input
                    type="radio"
                    (change)="selecionaHipoteseDiagnostica(item)"
                    class="custom-control-input"
                    id="{{ item.id }}"
                    name="radio-item"
                  />
                  <label class="custom-control-label" for="{{ item.id }}"
                    >&nbsp;</label
                  >
                </div>
              </td>
              <td class="text-secondary">{{ item.cid_10 }}</td>
              <td class="text-secondary">{{ item.nome }}</td>
            </tr>
          </tbody>
          <tbody
            *ngIf="
              !allItemsPesquisaHipoteseDiagnostica ||
              allItemsPesquisaHipoteseDiagnostica.length == 0
            "
          >
            <tr class="text-left">
              <td colspan="99" class="text-secondary">
                <i>Não há resultados...</i>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <div class="row mb-4">
      <div
        *ngIf="
          allItemsPesquisaHipoteseDiagnostica &&
          allItemsPesquisaHipoteseDiagnostica.length
        "
        class="text text-secondary col-md-12 pr-0 mx-auto"
      >
        <i>
          Exibindo
          {{
            paging.offset === totalPages - 1
              ? paging.total
              : (paging.offset + 1) * paging.limit
          }}
          de
          {{ paging.total }}
          resultado(s).
        </i>
      </div>
    </div>
    <div class="row mb-2 mt-4">
      <ul
        *ngIf="
          allItemsPesquisaHipoteseDiagnostica &&
          allItemsPesquisaHipoteseDiagnostica.length
        "
        class="pagination mx-auto"
      >
        <li class="page-item" [ngClass]="{ disabled: paging.offset === 0 }">
          <a class="page-link" (click)="setPagePaginedHipotese(0)">
            <i class="fas fa-angle-double-left"></i>
          </a>
        </li>
        <li class="page-item" [ngClass]="{ disabled: paging.offset === 0 }">
          <a
            class="page-link"
            (click)="setPagePaginedHipotese(paging.offset - 1)"
          >
            <i class="fas fa-angle-left"></i>
          </a>
        </li>
        <li>
          <select
            (change)="loadQuantityPerPagePaginationHipotese($event, 'hipotese')"
            class="custom-select d-block w-100"
            style="border: 1px solid #dee2e6"
          >
            <option [ngValue]="10">10</option>
            <option [ngValue]="25">25</option>
            <option [ngValue]="50">50</option>
          </select>
        </li>
        <li
          class="page-item"
          [ngClass]="{ disabled: paging.offset === totalPages - 1 }"
        >
          <a
            class="page-link"
            (click)="setPagePaginedHipotese(paging.offset + 1)"
          >
            <i class="fas fa-angle-right"></i>
          </a>
        </li>
        <li
          class="page-item"
          [ngClass]="{ disabled: paging.offset === totalPages - 1 }"
        >
          <a class="page-link" (click)="setPagePaginedHipotese(totalPages - 1)">
            <i class="fas fa-angle-double-right"></i>
          </a>
        </li>
      </ul>
    </div>

    <div class="form-group row text-right">
      <div class="col-12">
        <button
          class="btn btn-primary mr-2"
          type="button"
          [disabled]="disableHipoteseButton()"
          (click)="saveHipotese()"
        >
          <i class="fa fa-plus-circle"></i> Adicionar
        </button>
        <button class="btn btn-default" (click)="close()" type="button">
          <i class="fa fa-times"></i> Cancelar
        </button>
      </div>
    </div>
  </div>
</ng-template>

<ng-template #contentProcedimento>
  <div class="modal-header">
    <h4 class="modal-title">Procedimentos</h4>
    <button type="button" class="close" aria-label="Close" (click)="close()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div *ngIf="errors.length" class="alert alert-danger">
      <div *ngFor="let error of errors" class="row">
        <div class="col-12 text-left">
          {{ error.message }}
        </div>
      </div>
    </div>
    <div class="form-group row">
      <label class="col-xl-4 col-sm-12 col-form-label text-left">
        Código procedimento:
      </label>
      <div class="col-xl-8 col-sm-12">
        <input
          type="text"
          class="form-control has-error"
          [(ngModel)]="procedimento.co_procedimento"
        />
      </div>
    </div>
    <div class="form-group row">
      <label class="col-xl-4 col-sm-12 col-form-label text-left">
        Nome procedimento:
      </label>
      <div class="col-xl-8 col-sm-12">
        <input
          type="text"
          class="form-control has-error"
          [(ngModel)]="procedimento.no_procedimento"
        />
      </div>
    </div>
    <div class="form-group row">
      <label class="col-xl-4 col-sm-12 col-form-label text-left">
        Quantidade:
      </label>
      <div class="col-xl-8 col-sm-12">
        <input
          type="number"
          class="form-control has-error"
          [(ngModel)]="qtdProcedimento"
        />
      </div>
    </div>
    <div class="form-group row">
      <div class="col-12">
        <button
          [routerLink]=""
          class="btn btn-primary float-right"
          (click)="pesquisaProcedimento()"
        >
          <i *ngIf="loading" class="fa fa-circle-o-notch fa-spin text-left">
            <i class="fa fa-spinner"></i>
          </i>
          <i *ngIf="!loading" class="fas fa-search"></i>
        </button>
      </div>
    </div>

    <div class="form-group row">
      <div class="col-12 table-responsive">
        <table class="table table-striped">
          <thead>
            <tr class="text-left">
              <th></th>
              <th>Código</th>
              <th>Descrição</th>
            </tr>
          </thead>
          <tbody
            *ngFor="
              let item of allItemsPesquisaProcedimento;
              let index = index;
              let odd = odd;
              let even = even
            "
          >
            <tr class="text-left" [ngClass]="{ odd: odd, even: even }">
              <td class="text-secondary">
                <div class="custom-control custom-radio float-left">
                  <input
                    type="radio"
                    (change)="selecionaProcedimento(item)"
                    class="custom-control-input"
                    id="{{ item.id }}"
                    name="radio-item"
                  />
                  <label class="custom-control-label" for="{{ item.id }}"
                    >&nbsp;</label
                  >
                </div>
              </td>
              <td class="text-secondary">{{ item.co_procedimento }}</td>
              <td class="text-secondary">{{ item.no_procedimento }}</td>
            </tr>
          </tbody>
          <tbody
            *ngIf="
              !allItemsPesquisaProcedimento ||
              allItemsPesquisaProcedimento.length == 0
            "
          >
            <tr class="text-left">
              <td colspan="99" class="text-secondary">
                <i>Não há resultados...</i>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <div class="row mb-4">
      <div
        *ngIf="
          allItemsPesquisaProcedimento && allItemsPesquisaProcedimento.length
        "
        class="text text-secondary col-md-12 pr-0 mx-auto"
      >
        <i>
          Exibindo
          {{
            paging.offset === totalPages - 1
              ? paging.total
              : (paging.offset + 1) * paging.limit
          }}
          de
          {{ paging.total }}
          resultado(s).
        </i>
      </div>
    </div>
    <div class="row mb-2 mt-4">
      <ul
        *ngIf="
          allItemsPesquisaProcedimento && allItemsPesquisaProcedimento.length
        "
        class="pagination mx-auto"
      >
        <li class="page-item" [ngClass]="{ disabled: paging.offset === 0 }">
          <a class="page-link" (click)="setPagePaginedProcedimento(0)">
            <i class="fas fa-angle-double-left"></i>
          </a>
        </li>
        <li class="page-item" [ngClass]="{ disabled: paging.offset === 0 }">
          <a
            class="page-link"
            (click)="setPagePaginedProcedimento(paging.offset - 1)"
          >
            <i class="fas fa-angle-left"></i>
          </a>
        </li>
        <li>
          <select
            (change)="
              loadQuantityPerPagePaginationProcedimento($event, 'hipotese')
            "
            class="custom-select d-block w-100"
            style="border: 1px solid #dee2e6"
          >
            <option [ngValue]="10">10</option>
            <option [ngValue]="25">25</option>
            <option [ngValue]="50">50</option>
          </select>
        </li>
        <li
          class="page-item"
          [ngClass]="{ disabled: paging.offset === totalPages - 1 }"
        >
          <a
            class="page-link"
            (click)="setPagePaginedProcedimento(paging.offset + 1)"
          >
            <i class="fas fa-angle-right"></i>
          </a>
        </li>
        <li
          class="page-item"
          [ngClass]="{ disabled: paging.offset === totalPages - 1 }"
        >
          <a
            class="page-link"
            (click)="setPagePaginedProcedimento(totalPages - 1)"
          >
            <i class="fas fa-angle-double-right"></i>
          </a>
        </li>
      </ul>
    </div>

    <div class="form-group row text-right">
      <div class="col-12">
        <button
          class="btn btn-primary mr-2"
          type="button"
          [disabled]="disableProcedimentoButton()"
          (click)="saveProcedimento()"
        >
          <i class="fa fa-plus-circle"></i> Adicionar
        </button>
        <button class="btn btn-default" (click)="close()" type="button">
          <i class="fa fa-times"></i> Cancelar
        </button>
      </div>
    </div>
  </div>
</ng-template>

<ng-template #contentEncaminhamento>
  <div class="modal-header">
    <h4 class="modal-title">Encaminhamento Especialidade</h4>
    <button type="button" class="close" aria-label="Close" (click)="close()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div *ngIf="errors.length" class="alert alert-danger">
      <div *ngFor="let error of errors" class="row">
        <div class="col-12 text-left">
          {{ error.message }}
        </div>
      </div>
    </div>

    <div class="form-group row">
      <label class="col-xl-4 col-form-label text-left">
        Especialidade <span class="text-danger font-weight-bold"> *</span>
      </label>
      <div class="col-xl-8">
        <input type="hidden" [(ngModel)]="encaminhamento.idPaciente" />
        <select
          *ngIf="domains"
          class="custom-select d-block w-100"
          [(ngModel)]="encaminhamento.idEspecialidade"
        >
          <option [value]="null">Selecione...</option>
          <option
            *ngFor="let item of domains[0].especialidades"
            [value]="item.id"
          >
            {{ item.nome }}
          </option>
        </select>
      </div>
    </div>

    <div class="form-group row">
      <label class="col-xl-4 col-form-label text-left">
        Motivo <span class="text-danger font-weight-bold"> *</span>
      </label>
      <div class="col-xl-8">
        <textarea
          rows="4"
          class="form-control has-error"
          [(ngModel)]="encaminhamento.motivo"
        ></textarea>
      </div>
    </div>

    <div class="form-group row text-right">
      <div class="col-12">
        <button
          class="btn btn-primary mr-2"
          type="button"
          [disabled]="disableEncaminhamentoButton()"
          (click)="saveEncaminhamento()"
        >
          <i class="fa fa-plus-circle"></i> Adicionar
        </button>

        <button class="btn btn-default" (click)="close()" type="button">
          <i class="fa fa-times"></i> Cancelar
        </button>
      </div>
    </div>
  </div>
</ng-template>

<ng-template #contentMedicamento>
  <div class="modal-header">
    <h4 class="modal-title">Prescrição de medicamento</h4>
    <button type="button" class="close" aria-label="Close" (click)="close()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div *ngIf="errors.length" class="alert alert-danger">
      <div *ngFor="let error of errors" class="row">
        <div class="col-12 text-left">
          {{ error.message }}
        </div>
      </div>
    </div>

    <div class="form-group row">
      <label class="col-xl-4 col-sm-12 col-form-label text-left">
        Grupo do medicamento:
      </label>
      <div class="col-xl-8 col-sm-12">
        <select
          *ngIf="domains"
          class="custom-select d-block w-100"
          [(ngModel)]="medicamento.idGrupoMaterial"
        >
          <option [value]="null">Selecione...</option>
          <option
            *ngFor="let item of domains[0]?.idGrupoMaterial"
            [value]="item.id"
          >
            {{ item.nome }}
          </option>
        </select>
      </div>
    </div>

    <div class="form-group row">
      <label class="col-xl-4 col-sm-12 col-form-label text-left">
        Nome do medicamento:
      </label>
      <div class="col-xl-7 col-sm-12">
        <input
          type="text"
          class="form-control has-error"
          [(ngModel)]="medicamento.descricao"
        />
      </div>
      <div class="col-xl-1 col-sm-12">
        <button
          [routerLink]=""
          class="btn btn-primary float-right"
          (click)="buscaMedicamento()"
        >
          <i *ngIf="loading" class="fa fa-circle-o-notch fa-spin text-left">
            <i class="fa fa-spinner"></i>
          </i>
          <i *ngIf="!loading" class="fas fa-search"></i>
        </button>
      </div>
    </div>

    <div class="form-group row"></div>

    <div class="form-group row">
      <div class="col-12 table-responsive">
        <table class="table table-striped">
          <thead>
            <tr class="text-left">
              <th></th>
              <th>Código</th>
              <th>Descrição do medicamento</th>
              <th>Unidade</th>
            </tr>
          </thead>
          <tbody
            *ngFor="
              let item of allMedicamentos;
              let index = index;
              let odd = odd;
              let even = even
            "
          >
            <tr class="text-left" [ngClass]="{ odd: odd, even: even }">
              <td class="text-secondary">
                <div
                  class="custom-control custom-radio float-left"
                  *ngIf="item.autorizado && item.dispensavel"
                >
                  <input
                    type="radio"
                    (change)="selecionaMedicamento(item)"
                    class="custom-control-input"
                    id="{{ item.id }}"
                    name="radio-item"
                  />
                  <label class="custom-control-label" for="{{ item.id }}"
                    >&nbsp;</label
                  >
                </div>
                <div class="float-left" *ngIf="!item.autorizado">
                  <i
                    class="fa fa-ban text-left"
                    title="Material não autorizado para o profissional"
                    style="color: red"
                  ></i>
                </div>
                <div class="float-left" *ngIf="!item.dispensavel">
                  <i
                    class="fa fa-ban text-left"
                    title="Material não dispensável"
                    style="color: red"
                  ></i>
                </div>
              </td>
              <td class="text-secondary">{{ item.codigo }}</td>
              <td class="text-secondary" title="{{ item.descricaoCompleta }}">
                {{ item.descricao }}
              </td>
              <td class="text-secondary">{{ item.nomeUnidadeMaterial }}</td>
            </tr>
          </tbody>

          <tbody *ngIf="!allMedicamentos || allMedicamentos.length == 0">
            <tr class="text-left">
              <td colspan="99" class="text-secondary">
                <i>Não há resultados...</i>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <div class="row mb-2">
      <div
        *ngIf="pager.pages && pager.pages.length"
        class="text text-secondary col-md-12 pr-0 mx-auto"
      >
        <i>
          Exibindo
          {{
            pager.currentPage === pager.totalPages
              ? allMedicamentos.length
              : pager.currentPage * pagedItems.length
          }}
          de
          {{ allMedicamentos.length }}
          resultado(s).
        </i>
      </div>
    </div>

    <div class="row">
      <ul *ngIf="pager.pages && pager.pages.length" class="pagination mx-auto">
        <li class="page-item" [ngClass]="{ disabled: pager.currentPage === 1 }">
          <a class="page-link" (click)="setPage(1)">
            <i class="fas fa-angle-double-left"></i>
          </a>
        </li>
        <li class="page-item" [ngClass]="{ disabled: pager.currentPage === 1 }">
          <a class="page-link" (click)="setPage(pager.currentPage - 1)">
            <i class="fas fa-angle-left"></i>
          </a>
        </li>
        <li>
          <select
            (change)="loadQuantityPerPage($event)"
            class="custom-select d-block w-100"
            style="border: 1px solid #dee2e6"
          >
            <option [ngValue]="10">10</option>
            <option [ngValue]="25">25</option>
            <option [ngValue]="50">50</option>
          </select>
        </li>
        <li
          class="page-item"
          [ngClass]="{ disabled: pager.currentPage === pager.totalPages }"
        >
          <a class="page-link" (click)="setPage(pager.currentPage + 1)">
            <i class="fas fa-angle-right"></i>
          </a>
        </li>
        <li
          class="page-item"
          [ngClass]="{ disabled: pager.currentPage === pager.totalPages }"
        >
          <a class="page-link" (click)="setPage(pager.totalPages)">
            <i class="fas fa-angle-double-right"></i>
          </a>
        </li>
      </ul>
    </div>

    <div class="form-group row">
      <label class="col-xl-4 col-form-label text-left">
        Tempo tratamento (dias)<span class="text-danger font-weight-bold">
          *</span
        >
      </label>
      <div class="col-xl-8">
        <input type="hidden" [(ngModel)]="atendimentoMedicamento.idPaciente" />
        <input
          type="hidden"
          [(ngModel)]="atendimentoMedicamento.idAtendimento"
        />
        <input
          type="number"
          class="form-control has-error"
          [(ngModel)]="atendimentoMedicamento.uso"
        />
      </div>
    </div>

    <div class="form-group row">
      <label class="col-xl-4 col-form-label text-left">
        Tipo via<span class="text-danger font-weight-bold"> *</span>
      </label>
      <div class="col-xl-8">
        <select
          *ngIf="domains"
          class="custom-select d-block w-100"
          [(ngModel)]="atendimentoMedicamento.idTipoViaMaterial"
        >
          <option [value]="null">Selecione...</option>
          <option
            *ngFor="let item of domains[0]?.idTipoViaMaterial"
            [value]="item.id"
          >
            {{ item.nome }}
          </option>
        </select>
      </div>
    </div>

    <div class="form-group row">
      <label class="col-xl-4 col-form-label text-left">
        Quantidade<span class="text-danger font-weight-bold"> *</span>
      </label>
      <div class="col-xl-8">
        <input
          type="number"
          class="form-control has-error"
          [(ngModel)]="atendimentoMedicamento.quantidade"
        />
      </div>
    </div>

    <div class="form-group row">
      <label class="col-xl-4 col-form-label text-left">
        Apresentação<span class="text-danger font-weight-bold"> *</span>
      </label>
      <div class="col-xl-8">
        <input
          type="text"
          class="form-control has-error"
          [(ngModel)]="atendimentoMedicamento.apresentacao"
        />
      </div>
    </div>

    <div class="form-group row">
      <label class="col-xl-4 col-form-label text-left">
        Posologia <span class="text-danger font-weight-bold"> *</span>
      </label>
      <div class="col-xl-8">
        <textarea
          rows="4"
          class="form-control has-error"
          [(ngModel)]="atendimentoMedicamento.posologia"
        ></textarea>
      </div>
    </div>

    <div class="form-group row text-right">
      <div class="col-12">
        <button
          class="btn btn-primary mr-2"
          type="button"
          [disabled]="disableMedicamentoButton()"
          (click)="saveMedicamento()"
        >
          <i class="fa fa-plus-circle"></i> Adicionar
        </button>

        <button class="btn btn-default" (click)="close()" type="button">
          <i class="fa fa-times"></i> Cancelar
        </button>
      </div>
    </div>
  </div>
</ng-template>

<ng-template #contentExame>
  <div class="modal-header">
    <h4 class="modal-title">Exames</h4>
    <button type="button" class="close" aria-label="Close" (click)="close()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div *ngIf="errors.length" class="alert alert-danger">
      <div *ngFor="let error of errors" class="row">
        <div class="col-12 text-left">
          {{ error.message }}
        </div>
      </div>
    </div>

    <div class="form-group row">
      <div class="col-md-3" style="display: flex">
        <button
          class="btn btn-primary mr-2"
          type="button"
          (click)="openFormularioExame(contentExameForm)"
        >
          <i class="fa fa-plus-circle"></i> Inserir exame
        </button>
      </div>
    </div>

    <div class="form-group row">
      <div class="col-12 table-responsive">
        <table class="table table-striped">
          <thead>
            <tr>
              <th *ngFor="let field of fieldsExames" class="text-left">
                {{ field.label }}
              </th>
              <th>Ações</th>
            </tr>
          </thead>
          <tbody
            *ngFor="
              let item of allItemsExame;
              let index = index;
              let odd = odd;
              let even = even
            "
          >
            <tr class="text-left" [ngClass]="{ odd: odd, even: even }">
              <td *ngFor="let field of fieldsExames">
                <label for="{{ item.id }}">
                  {{
                    field.isDate
                      ? item[field.field]
                      : field.isDateTime
                      ? (item[field.field] | date: 'dd/MM/yyyy HH:mm')
                      : field.translate
                      ? translate(item[field.field], field.translate)
                      : field.decimalMask
                      ? toCurrency(
                          item[field.field] | currency: 'R$ ' : true : '1.2-2',
                          field.decimalMask
                        )
                      : field.docMask
                      ? maskDocument(item[field.field])
                      : item[field.field]
                  }}
                </label>
              </td>
              <td>
                <a
                  class="btn btn-link"
                  [routerLink]=""
                  (click)="viewer(item.id, contentExameForm)"
                >
                  <i class="fa fa-eye" title="Visualizar exame"></i> {{ '' }}
                </a>
              </td>
            </tr>
          </tbody>

          <tbody *ngIf="!allItemsExame || allItemsExame.length == 0">
            <tr class="text-left">
              <td colspan="99" class="text-secondary">
                <i>Não há resultados...</i>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <div class="row mb-4">
      <div
        *ngIf="allItems && allItems.length"
        class="text text-secondary col-md-12 pr-0 mx-auto"
      >
        <i>
          Exibindo
          {{
            paging.offset === totalPages - 1
              ? paging.total
              : (paging.offset + 1) * paging.limit
          }}
          de
          {{ paging.total }}
          resultado(s).
        </i>
      </div>
    </div>

    <div class="row mb-2 mt-4">
      <ul *ngIf="allItems && allItems.length" class="pagination mx-auto">
        <li class="page-item" [ngClass]="{ disabled: paging.offset === 0 }">
          <a class="page-link" (click)="setPagePagined(0)">
            <i class="fas fa-angle-double-left"></i>
          </a>
        </li>
        <li class="page-item" [ngClass]="{ disabled: paging.offset === 0 }">
          <a class="page-link" (click)="setPagePagined(paging.offset - 1)">
            <i class="fas fa-angle-left"></i>
          </a>
        </li>
        <li>
          <select
            (change)="loadQuantityPerPagePagination($event, 'paciente')"
            class="custom-select d-block w-100"
            style="border: 1px solid #dee2e6"
          >
            <option [ngValue]="10">10</option>
            <option [ngValue]="25">25</option>
            <option [ngValue]="50">50</option>
          </select>
        </li>
        <li
          class="page-item"
          [ngClass]="{ disabled: paging.offset === totalPages - 1 }"
        >
          <a class="page-link" (click)="setPagePagined(paging.offset + 1)">
            <i class="fas fa-angle-right"></i>
          </a>
        </li>
        <li
          class="page-item"
          [ngClass]="{ disabled: paging.offset === totalPages - 1 }"
        >
          <a class="page-link" (click)="setPagePagined(totalPages - 1)">
            <i class="fas fa-angle-double-right"></i>
          </a>
        </li>
      </ul>
    </div>

    <div class="form-group row text-right">
      <div class="col-12">
        <button class="btn btn-default" (click)="close()" type="button">
          <i class="fa fa-times"></i> Cancelar
        </button>
      </div>
    </div>
  </div>
</ng-template>

<ng-template #contentExameForm>
  <div class="modal-header">
    <h4 class="modal-title">Exame</h4>
    <button
      type="button"
      class="close"
      aria-label="Close"
      (click)="closeExameFormulario()"
    >
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <app-exame-formulario
      [atendimentoId]="object.id"
      [pacienteId]="object.idPaciente"
      [exibeHeader]="true"
      [exameId]="exameId"
      (formularioChange)="formularioSalvoChange($event)"
    ></app-exame-formulario>
  </div>
</ng-template>

<ng-template #contentVacinas>
  <div class="modal-header">
    <h4 class="modal-title">Vacina</h4>
    <button type="button" class="close" aria-label="Close" (click)="close()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div *ngIf="errors.length" class="alert alert-danger">
      <div *ngFor="let error of errors" class="row">
        <div class="col-12 text-left">
          {{ error.message }}
        </div>
      </div>
    </div>

    <div class="form-group row">
      <label class="col-xl-4 col-sm-12 col-form-label text-left">
        Pesquisar pela descrição:
      </label>
      <div class="col-xl-7 col-sm-12">
        <input
          type="text"
          class="form-control has-error"
          [(ngModel)]="medicamento.descricao"
        />
      </div>
      <div class="col-xl-1 col-sm-12">
        <button
          [routerLink]=""
          class="btn btn-primary float-right"
          (click)="buscaVacina()"
        >
          <i *ngIf="loading" class="fa fa-circle-o-notch fa-spin text-left">
            <i class="fa fa-spinner"></i>
          </i>
          <i *ngIf="!loading" class="fas fa-search"></i>
        </button>
      </div>
    </div>

    <div class="form-group row"></div>

    <div class="form-group row">
      <div class="col-12 table-responsive">
        <table class="table table-striped">
          <thead>
            <tr class="text-left">
              <th></th>
              <th>Código eSUS</th>
              <th>Descrição</th>
              <th>Sigla</th>
            </tr>
          </thead>
          <tbody
            *ngFor="
              let item of allMedicamentos;
              let index = index;
              let odd = odd;
              let even = even
            "
          >
            <tr class="text-left" [ngClass]="{ odd: odd, even: even }">
              <td class="text-secondary">
                <div class="custom-control custom-radio float-left">
                  <input
                    type="radio"
                    (change)="selecionaVacina(item)"
                    class="custom-control-input"
                    id="{{ item.id }}"
                    name="radio-item"
                  />
                  <label class="custom-control-label" for="{{ item.id }}"
                    >&nbsp;</label
                  >
                </div>
              </td>
              <td class="text-secondary">{{ item.codigo }}</td>
              <td class="text-secondary" title="{{ item.descricao }}">
                {{ item.descricao }}
              </td>
              <td class="text-secondary">{{ item.sigla }}</td>
            </tr>
          </tbody>

          <tbody *ngIf="!allMedicamentos || allMedicamentos.length == 0">
            <tr class="text-left">
              <td colspan="99" class="text-secondary">
                <i>Não há resultados...</i>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <div class="row mb-2">
      <div
        *ngIf="pager.pages && pager.pages.length"
        class="text text-secondary col-md-12 pr-0 mx-auto"
      >
        <i>
          Exibindo
          {{
            pager.currentPage === pager.totalPages
              ? allMedicamentos.length
              : pager.currentPage * pagedItems.length
          }}
          de
          {{ allMedicamentos.length }}
          resultado(s).
        </i>
      </div>
    </div>

    <div class="form-group row">
      <label class="col-xl-4 col-sm-12 col-form-label text-left">
        Nome do Profissional:
      </label>
      <div class="col-xl-8 col-sm-12">
        <input
          type="text"
          class="form-control has-error"
          readonly
          [(ngModel)]="pacienteVacina.nomeProfissional"
        />
      </div>
    </div>
    <div class="form-group row">
      <label class="col-xl-4 col-sm-12 col-form-label text-left">
        Nome da vacina:
      </label>
      <div class="col-xl-8 col-sm-12">
        <input
          type="text"
          class="form-control has-error"
          readonly
          [(ngModel)]="pacienteVacina.nome"
        />
      </div>
    </div>
    <div class="form-group row">
      <label class="col-xl-4 col-sm-12 col-form-label text-left">
        Validade:
      </label>
      <div class="col-xl-8 col-sm-12">
        <div class="input-group">
          <div class="input-group-prepend">
            <div class="input-group-text btn">
              <i class="fa fa-calendar-alt"></i>
            </div>
          </div>
          <input
            type="text"
            [(ngModel)]="pacienteVacina.validade"
            placeholder="dd/mm/aaaa"
            bsDatepicker
            [bsConfig]="{
              containerClass: 'theme-dark-blue',
              dateInputFormat: 'DD/MM/YYYY'
            }"
            class="form-control"
            autocomplete="off"
          />
        </div>
      </div>
    </div>
    <div class="form-group row">
      <label class="col-xl-4 col-sm-12 col-form-label text-left">
        Estratégia:
      </label>
      <div class="col-xl-8 col-sm-12">
        <select
          (change)="estrategiaSelecionada($event)"
          *ngIf="domainsEstrategiaVacinacao"
          class="custom-select d-block w-100"
          [(ngModel)]="pacienteVacina.codigoEstrategiaVacinacaoSus"
        >
          <option [value]="null">Selecione...</option>
          <option
            *ngFor="
              let item of domainsEstrategiaVacinacao[0]?.estrategiaVacinacao
            "
            [value]="item.id"
          >
            {{ item.nome }}
          </option>
        </select>
      </div>
    </div>
    <div class="form-group row">
      <label class="col-xl-4 col-sm-12 col-form-label text-left"> Dose: </label>
      <div class="col-xl-8 col-sm-12">
        <select
          (change)="change($event)"
          *ngIf="domainsDose"
          class="custom-select d-block w-100"
          [(ngModel)]="pacienteVacina.codigoDoseVacinaSus"
        >
          <option [value]="null">Selecione...</option>
          <option
            *ngFor="let item of domainsDose[0]?.doseVacina"
            [value]="item.id"
          >
            {{ item.nome }}
          </option>
        </select>
      </div>
    </div>
    <div class="form-group row">
      <label class="col-xl-4 col-sm-12 col-form-label text-left"> Lote: </label>
      <div class="col-xl-8 col-sm-12">
        <input
          type="text"
          class="form-control has-error"
          [(ngModel)]="pacienteVacina.lote"
        />
      </div>
    </div>
    <div class="form-group row">
      <label class="col-xl-4 col-sm-12 col-form-label text-left">
        Grupo atendimento:
      </label>
      <div class="col-xl-8 col-sm-12">
        <select
          (change)="change($event)"
          *ngIf="domainsVacinacao"
          class="custom-select d-block w-100"
          [(ngModel)]="pacienteVacina.codigoGrupoAtendimentoVacinacaoSus"
        >
          <option [value]="null">Selecione...</option>
          <option
            *ngFor="let item of domainsVacinacao[0]?.grupoAtendimentoVacinacao"
            [value]="item.id"
          >
            {{ item.nome }}
          </option>
        </select>
      </div>
    </div>

    <div class="form-group row text-right">
      <div class="col-12">
        <button
          class="btn btn-primary mr-2"
          type="button"
          [disabled]="disableVacinaButton()"
          (click)="saveVacina()"
        >
          <i class="fa fa-plus-circle"></i> Adicionar
        </button>
        <button class="btn btn-default" (click)="close()" type="button">
          <i class="fa fa-times"></i> Cancelar
        </button>
      </div>
    </div>
  </div>
</ng-template>

<ng-template #contentAtividadeColetivaProfissional>
  <div class="modal-header">
    <h4 class="modal-title">Adicionar Profissional a Atividade Coletiva</h4>

    <button type="button" class="close" aria-label="Close" (click)="close()">
      <span aria-hidden="true">&times;</span>
    </button>

    <div *ngIf="errors.length" class="alert alert-danger">
      <div *ngFor="let error of errors" class="row">
        <div class="col-12 text-left">
          {{ error.message }}
        </div>
      </div>
    </div>
  </div>

  <div class="modal-body">
    <div class="col-xl-15">
      <table class="table table-striped">
        <thead>
          <tr>
            <th></th>
            <th class="text-left">Id</th>
            <th class="text-left">Profissional CNS</th>
            <th class="text-left">Nome</th>
            <th class="text-left">Cargo</th>
          </tr>
        </thead>
        <tbody *ngIf="!profissionaisLista.length">
          <tr class="text-left">
            <td colspan="99" class="text-secondary">
              <i>Não há resultados...</i>
            </td>
          </tr>
        </tbody>
        <tbody *ngIf="profissionaisLista.length">
          <tr class="text-left" *ngFor="let item of profissionaisLista">
            <td class="text-secondary">
              <div class="custom-control custom-radio float-left">
                <input
                  type="radio"
                  (change)="selecionaProfissional(item)"
                  class="custom-control-input"
                  id="{{ item.id }}"
                  name="radio-item"
                />
                <label class="custom-control-label" for="{{ item.id }}"
                  >&nbsp;</label
                >
              </div>
            </td>
            <td class="text-secondary">{{ item.id }}</td>
            <td class="text-secondary">{{ item.profissionalCNS }}</td>
            <td class="text-secondary">{{ item.nome }}</td>
            <td class="text-secondary">{{ item.cargoProfissional }}</td>
            <td class="text-secondary text-right"></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <div class="modal-footer">
    <button
      [disabled]="profissionalSelecionadoAtividadeColetiva == null"
      class="btn btn-primary mr-2"
      type="button"
      (click)="saveProfissionalAtividadeColetiva()"
    >
      <i class="fa fa-plus-circle"></i> Adicionar
    </button>
    <button class="btn btn-default" (click)="close()" type="button">
      <i class="fa fa-times"></i> Cancelar
    </button>
  </div>
</ng-template>

<ng-template #contentAtividadeColetivaParticipante>
  <div class="modal-header">
    <h4 class="modal-title">Adicionar Participante a Atividade Coletiva</h4>

    <button type="button" class="close" aria-label="Close" (click)="close()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>

  <div *ngIf="errors.length" class="alert alert-danger">
    <div *ngFor="let error of errors" class="row">
      <div class="col-12 text-left">
        {{ error.message }}
      </div>
    </div>
  </div>

  <div class="modal-body">
    <div class="text-left">
      <div class="row">
        <div class="col-xl-12">
          <label class="col-xl-4 col-form-label text-left"
            >Pesquisar Participante
            <span class="text-danger font-weight-bold">*</span>
          </label>
        </div>
      </div>

      <div class="row m-0" style="margin: 0 10px 0 10px">
        <input type="hidden" [(ngModel)]="participanteAtividadeColetiva.id" />
        <input
          type="hidden"
          [(ngModel)]="participanteAtividadeColetiva.idPaciente"
        />
        <div class="input-group">
          <input
            type="text"
            class="form-control has-error rounded"
            [(ngModel)]="participanteAtividadeColetiva.nomePaciente"
            readonly
          />

          <div class="input-group-append">
            <button
              class="btn btn-primary ml-3 rounded"
              type="button"
              (click)="open(contentClient)"
              [disabled]="disableFields()"
            >
              <i class="fa fa-search"></i>
            </button>
          </div>
        </div>
      </div>
    </div>

    <div *ngIf="participanteSelecionadoAtividadeColetiva != null">
      <div class="text-left margin-top">
        <div class="row">
          <div class="col-xl-4">
            <label class="col-form-label text-left"
              >Cartão SUS do Participante:
            </label>
          </div>
          <div class="col-xl-8">
            <div class="input-group">
              <input
                type="text"
                class="form-control has-error rounded"
                [(ngModel)]="participanteAtividadeColetiva.cartaoSus"
                readonly
              />
            </div>
          </div>
        </div>
      </div>

      <div class="text-left margin-top">
        <div class="row">
          <div class="col-xl-4">
            <label class="col-form-label text-left"
              >Sexo do Participante:
            </label>
          </div>
          <div class="col-xl-8">
            <div class="input-group">
              <input
                type="text"
                class="form-control has-error rounded"
                [(ngModel)]="this.sexoPaciente"
                readonly
              />
            </div>
          </div>
        </div>
      </div>

      <div class="text-left margin-top">
        <div class="row" style="margin: 15px">
          <div class="col-xl-4">
            <div class="row">
              <div class="col-xl-6 p-0">
                <label class="col-form-label text-left">Peso: </label>
              </div>
              <div class="col-xl-6">
                <div class="input-group">
                  <input
                    type="text"
                    class="form-control has-error rounded"
                    [(ngModel)]="participanteAtividadeColetiva.peso"
                  />
                </div>
              </div>
            </div>
          </div>
          <div class="col-xl-4">
            <div class="row">
              <div class="col-xl-6 p-0">
                <label class="col-form-label text-left">Altura (cm): </label>
              </div>
              <div class="col-xl-6">
                <div class="input-group">
                  <input
                    type="number"
                    min="20"
                    max="250"
                    pattern="^[0-9]"
                    class="form-control has-error rounded"
                    [(ngModel)]="participanteAtividadeColetiva.altura"
                  />
                </div>
              </div>
            </div>
          </div>
          <div class="col-xl-4">
            <div class="row">
              <div class="col-xl-6 p-0">
                <label class="col-form-label text-left"
                  >Pressão arterial:
                </label>
              </div>
              <div class="col-xl-6">
                <div class="input-group">
                  <input
                    type="text"
                    min="20"
                    max="250"
                    pattern="^[0-9]"
                    class="form-control has-error rounded"
                    [(ngModel)]="participanteAtividadeColetiva.pressaoArterial"
                  />
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="row" style="margin: 15px">
          <div class="col-xl-4">
            <div class="row">
              <div class="col-xl-6 p-0">
                <label class="col-form-label text-left">Pulso: </label>
              </div>
              <div class="col-xl-6">
                <div class="input-group">
                  <input
                    type="text"
                    class="form-control has-error rounded"
                    [(ngModel)]="participanteAtividadeColetiva.pulso"
                  />
                </div>
              </div>
            </div>
          </div>
          <div class="col-xl-4">
            <div class="row">
              <div class="col-xl-6 p-0">
                <label class="col-form-label text-left">Saturação: </label>
              </div>
              <div class="col-xl-6">
                <div class="input-group">
                  <input
                    type="number"
                    min="20"
                    max="250"
                    pattern="^[0-9]"
                    class="form-control has-error rounded"
                    [(ngModel)]="participanteAtividadeColetiva.saturacao"
                  />
                </div>
              </div>
            </div>
          </div>
          <div class="col-xl-4">
            <div class="row">
              <div class="col-xl-6 p-0">
                <label class="col-form-label text-left">Temperatura: </label>
              </div>
              <div class="col-xl-6">
                <div class="input-group">
                  <input
                    type="number"
                    min="20"
                    max="250"
                    pattern="^[0-9]"
                    class="form-control has-error rounded"
                    [(ngModel)]="participanteAtividadeColetiva.temperatura"
                  />
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="text-left">
        <div class="row">
          <div class="col-xl-4">
            <div class="input-group">
              <label class="col-form-label text-left" style="margin-right: 10px"
                >Cessou o hábito de fumar:
              </label>
              <div
                class="custom-control custom-checkbox"
                style="margin-top: 10px"
              >
                <input
                  type="checkbox"
                  id="parouFumarNovo"
                  class="custom-control-input"
                  [(ngModel)]="this.participanteAtividadeColetiva.parouFumar"
                />
                <label
                  class="custom-control-label"
                  for="parouFumarNovo"
                ></label>
              </div>
            </div>
          </div>
          <div class="col-xl-4">
            <div class="input-group">
              <label
                class="col-form-label text-left"
                style="margin-right: 10px"
              >
                Abandonou o grupo:
              </label>
              <div
                class="custom-control custom-checkbox"
                style="margin-top: 10px"
              >
                <input
                  type="checkbox"
                  id="abandonouGrupoNovo"
                  class="custom-control-input"
                  [(ngModel)]="
                    this.participanteAtividadeColetiva.abandonouGrupo
                  "
                />
                <label
                  class="custom-control-label"
                  for="abandonouGrupoNovo"
                ></label>
              </div>
            </div>
          </div>
          <div class="col-xl-4">
            <div class="input-group">
              <label class="col-form-label text-left" style="margin-right: 10px"
                >Avaliação Alterada:
              </label>
              <div
                class="custom-control custom-checkbox"
                style="margin-top: 10px"
              >
                <input
                  type="checkbox"
                  id="avaliacaoAlteradaNovo"
                  [(ngModel)]="
                    this.participanteAtividadeColetiva.avaliacaoAlterada
                  "
                  class="custom-control-input"
                />
                <label
                  class="custom-control-label"
                  for="avaliacaoAlteradaNovo"
                ></label>
              </div>
            </div>
          </div>
        </div>
        <div class="row margin-top">
          <div class="col-xl-4">
            <label> Queixa/História da Doença</label>
          </div>
          <div class="col-xl-8">
            <textarea
              class="form-control has-error rounded"
              [(ngModel)]="participanteAtividadeColetiva.queixaHistoriaDoenca"
              rows="2"
              style="width: 100%"
            ></textarea>
          </div>
        </div>

        <div class="row margin-top">
          <div class="col-xl-4">
            <label> Evolução/Observação</label>
          </div>
          <div class="col-xl-8">
            <textarea
              class="form-control has-error rounded"
              [(ngModel)]="participanteAtividadeColetiva.observacao"
              rows="2"
              style="width: 100%"
            ></textarea>
          </div>
        </div>
        <div class="row margin-top">
          <div class="col-xl-4">
            <label> Avaliação</label>
          </div>
          <div class="col-xl-8">
            <textarea
              class="form-control has-error rounded"
              [(ngModel)]="participanteAtividadeColetiva.avaliacao"
              rows="2"
              style="width: 100%"
            ></textarea>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="modal-footer">
    <button
      [disabled]="participanteSelecionadoAtividadeColetiva == null"
      class="btn btn-primary mr-2"
      type="button"
      (click)="saveParticipanteAtividadeColetiva()"
    >
      <i class="fa fa-plus-circle"></i> Adicionar
    </button>
    <button class="btn btn-default" (click)="close()" type="button">
      <i class="fa fa-times"></i> Cancelar
    </button>
  </div>
</ng-template>

<ng-template #contentEditAtividadeColetivaParticipante>
  <div class="modal-header">
    <h4 class="modal-title">Editar Participante da Atividade Coletiva</h4>

    <button type="button" class="close" aria-label="Close" (click)="close()">
      <span aria-hidden="true">&times;</span>
    </button>

    <div *ngIf="errors.length" class="alert alert-danger">
      <div *ngFor="let error of errors" class="row">
        <div class="col-12 text-left">
          {{ error.message }}
        </div>
      </div>
    </div>
  </div>

  <div class="modal-body">
    <div class="text-left">
      <div class="row">
        <div class="col-xl-12">
          <input type="hidden" [(ngModel)]="participanteAtividadeColetiva.id" />
          <input
            type="hidden"
            [(ngModel)]="participanteAtividadeColetiva.idPaciente"
          />
          <div class="input-group">
            <input
              type="text"
              class="form-control has-error rounded"
              [(ngModel)]="editParticipanteAtividadeColetiva.nomePaciente"
              readonly
            />
          </div>
        </div>
      </div>
    </div>

    <div class="text-left margin-top">
      <div class="row">
        <div class="col-xl-4">
          <label class="col-form-label text-left"
            >Cartão SUS do Participante:
          </label>
        </div>
        <div class="col-xl-8">
          <div class="input-group">
            <input
              type="text"
              class="form-control has-error rounded"
              [(ngModel)]="editParticipanteAtividadeColetiva.cartaoSus"
              readonly
            />
          </div>
        </div>
      </div>
    </div>

    <div class="text-left margin-top">
      <div class="row">
        <div class="col-xl-4">
          <label class="col-form-label text-left">Sexo do Participante: </label>
        </div>
        <div class="col-xl-8">
          <div class="input-group">
            <input
              type="text"
              class="form-control has-error rounded"
              [(ngModel)]="this.sexoPaciente"
              readonly
            />
          </div>
        </div>
      </div>
    </div>

    <div class="text-left margin-top">
      <div class="row" style="margin: 15px">
        <div class="col-xl-4">
          <div class="row">
            <div class="col-xl-6 p-0">
              <label class="col-form-label text-left">Peso: </label>
            </div>
            <div class="col-xl-6">
              <div class="input-group">
                <input
                  type="text"
                  class="form-control has-error rounded"
                  [(ngModel)]="editParticipanteAtividadeColetiva.peso"
                />
              </div>
            </div>
          </div>
        </div>
        <div class="col-xl-4">
          <div class="row">
            <div class="col-xl-6 p-0">
              <label class="col-form-label text-left">Altura (cm): </label>
            </div>
            <div class="col-xl-6">
              <div class="input-group">
                <input
                  type="number"
                  min="20"
                  max="250"
                  pattern="^[0-9]"
                  class="form-control has-error rounded"
                  [(ngModel)]="editParticipanteAtividadeColetiva.altura"
                />
              </div>
            </div>
          </div>
        </div>
        <div class="col-xl-4">
          <div class="row">
            <div class="col-xl-6 p-0">
              <label class="col-form-label text-left">Pressão arterial: </label>
            </div>
            <div class="col-xl-6">
              <div class="input-group">
                <input
                  type="text"
                  min="20"
                  max="250"
                  pattern="^[0-9]"
                  class="form-control has-error rounded"
                  [(ngModel)]="
                    editParticipanteAtividadeColetiva.pressaoArterial
                  "
                />
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="row" style="margin: 15px">
        <div class="col-xl-4">
          <div class="row">
            <div class="col-xl-6 p-0">
              <label class="col-form-label text-left">Pulso: </label>
            </div>
            <div class="col-xl-6">
              <div class="input-group">
                <input
                  type="text"
                  class="form-control has-error rounded"
                  [(ngModel)]="editParticipanteAtividadeColetiva.pulso"
                />
              </div>
            </div>
          </div>
        </div>
        <div class="col-xl-4">
          <div class="row">
            <div class="col-xl-6 p-0">
              <label class="col-form-label text-left">Saturação: </label>
            </div>
            <div class="col-xl-6">
              <div class="input-group">
                <input
                  type="number"
                  min="20"
                  max="250"
                  pattern="^[0-9]"
                  class="form-control has-error rounded"
                  [(ngModel)]="editParticipanteAtividadeColetiva.saturacao"
                />
              </div>
            </div>
          </div>
        </div>
        <div class="col-xl-4">
          <div class="row">
            <div class="col-xl-6 p-0">
              <label class="col-form-label text-left">Temperatura: </label>
            </div>
            <div class="col-xl-6">
              <div class="input-group">
                <input
                  type="number"
                  min="20"
                  max="250"
                  pattern="^[0-9]"
                  class="form-control has-error rounded"
                  [(ngModel)]="editParticipanteAtividadeColetiva.temperatura"
                />
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="text-left">
      <div class="row">
        <div class="col-xl-4">
          <div class="input-group">
            <label class="col-form-label text-left" style="margin-right: 10px"
              >Cessou o hábito de fumar:
            </label>
            <div
              class="custom-control custom-checkbox"
              style="margin-top: 10px"
            >
              <input
                type="checkbox"
                id="parouFumarNovo"
                class="custom-control-input"
                [(ngModel)]="this.editParticipanteAtividadeColetiva.parouFumar"
              />
              <label class="custom-control-label" for="parouFumarNovo"></label>
            </div>
          </div>
        </div>
        <div class="col-xl-4">
          <div class="input-group">
            <label class="col-form-label text-left" style="margin-right: 10px">
              Abandonou o grupo:
            </label>
            <div
              class="custom-control custom-checkbox"
              style="margin-top: 10px"
            >
              <input
                type="checkbox"
                id="abandonouGrupoNovo"
                class="custom-control-input"
                [(ngModel)]="
                  this.editParticipanteAtividadeColetiva.abandonouGrupo
                "
              />
              <label
                class="custom-control-label"
                for="abandonouGrupoNovo"
              ></label>
            </div>
          </div>
        </div>
        <div class="col-xl-4">
          <div class="input-group">
            <label class="col-form-label text-left" style="margin-right: 10px"
              >Avaliação Alterada:
            </label>
            <div
              class="custom-control custom-checkbox"
              style="margin-top: 10px"
            >
              <input
                type="checkbox"
                id="avaliacaoAlteradaNovo"
                [(ngModel)]="
                  this.editParticipanteAtividadeColetiva.avaliacaoAlterada
                "
                class="custom-control-input"
              />
              <label
                class="custom-control-label"
                for="avaliacaoAlteradaNovo"
              ></label>
            </div>
          </div>
        </div>
      </div>
      <div class="row margin-top">
        <div class="col-xl-4">
          <label> Queixa/História da Doença</label>
        </div>
        <div class="col-xl-8">
          <textarea
            class="form-control has-error rounded"
            [(ngModel)]="editParticipanteAtividadeColetiva.queixaHistoriaDoenca"
            rows="2"
            style="width: 100%"
          ></textarea>
        </div>
      </div>
      <div class="row margin-top">
        <div class="col-xl-4">
          <label> Evolução/Observação</label>
        </div>
        <div class="col-xl-8">
          <textarea
            class="form-control has-error rounded"
            [(ngModel)]="editParticipanteAtividadeColetiva.observacao"
            rows="2"
            style="width: 100%"
          ></textarea>
        </div>
      </div>
      <div class="row margin-top">
        <div class="col-xl-4">
          <label> Avaliação</label>
        </div>
        <div class="col-xl-8">
          <textarea
            class="form-control has-error rounded"
            [(ngModel)]="editParticipanteAtividadeColetiva.avaliacao"
            rows="2"
            style="width: 100%"
          ></textarea>
        </div>
      </div>
    </div>
  </div>

  <div class="modal-footer" *ngIf="!disableFields()">
    <button
      class="btn btn-primary mr-2"
      type="button"
      (click)="saveEditParticipanteAtividadeColetiva()"
    >
      <i class="fa fa-plus-circle"></i> Salvar
    </button>
    <button class="btn btn-default" (click)="close()" type="button">
      <i class="fa fa-times"></i> Cancelar
    </button>
  </div>
</ng-template>

<ng-template #contentTipoFornecimentoOdonto>
  <div class="modal-header">
    <h4 class="modal-title">Adicionar Tipo de Fornecimento Odonto</h4>

    <button type="button" class="close" aria-label="Close" (click)="close()">
      <span aria-hidden="true">&times;</span>
    </button>

    <div *ngIf="errors.length" class="alert alert-danger">
      <div *ngFor="let error of errors" class="row">
        <div class="col-12 text-left">
          {{ error.message }}
        </div>
      </div>
    </div>
  </div>

  <div class="modal-body">
    <div class="col-xl-15">
      <table class="table table-striped">
        <thead>
          <tr>
            <th></th>
            <th class="text-left">Descrição</th>
          </tr>
        </thead>
        <tbody *ngIf="!domains[0]?.tiposFornecimOdonto">
          <tr class="text-left">
            <td colspan="99" class="text-secondary">
              <i>Não há resultados...</i>
            </td>
          </tr>
        </tbody>
        <tbody *ngIf="domains[0]?.tiposFornecimOdonto">
          <tr
            class="text-left"
            *ngFor="let item of domains[0]?.tiposFornecimOdonto"
          >
            <td class="text-secondary">
              <div class="custom-control custom-radio float-left">
                <input
                  type="radio"
                  (change)="selecionatiposFornecimOdonto(item)"
                  class="custom-control-input"
                  id="{{ item.id }}"
                  name="radio-item"
                />
                <label class="custom-control-label" for="{{ item.id }}"
                  >&nbsp;</label
                >
              </div>
            </td>
            <td class="text-secondary">{{ item.nome }}</td>
            <td class="text-secondary text-right"></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <div class="modal-footer">
    <button
      [disabled]="FornecimOdontoSelecionado == null"
      class="btn btn-primary mr-2"
      type="button"
      (click)="savetiposFornecimOdonto()"
    >
      <i class="fa fa-plus-circle"></i> Adicionar
    </button>
    <button class="btn btn-default" (click)="close()" type="button">
      <i class="fa fa-times"></i> Cancelar
    </button>
  </div>
</ng-template>

<ng-template #contentTipoVigilanciaOdonto>
  <div class="modal-header">
    <h4 class="modal-title">Adicionar tipos de vigilância de saúde bucal</h4>

    <button type="button" class="close" aria-label="Close" (click)="close()">
      <span aria-hidden="true">&times;</span>
    </button>

    <div *ngIf="errors.length" class="alert alert-danger">
      <div *ngFor="let error of errors" class="row">
        <div class="col-12 text-left">
          {{ error.message }}
        </div>
      </div>
    </div>
  </div>

  <div class="modal-body">
    <div class="col-xl-15">
      <table class="table table-striped">
        <thead>
          <tr>
            <th></th>
            <th class="text-left">Descrição</th>
          </tr>
        </thead>
        <tbody *ngIf="!domains[0]?.tiposVigilanciaSaudeBucal">
          <tr class="text-left">
            <td colspan="99" class="text-secondary">
              <i>Não há resultados...</i>
            </td>
          </tr>
        </tbody>
        <tbody *ngIf="domains[0]?.tiposVigilanciaSaudeBucal">
          <tr
            class="text-left"
            *ngFor="let item of domains[0]?.tiposVigilanciaSaudeBucal"
          >
            <td class="text-secondary">
              <div class="custom-control custom-radio float-left">
                <input
                  type="radio"
                  (change)="selecionatiposVigilanciaSaudeBucal(item)"
                  class="custom-control-input"
                  id="{{ item.id }}"
                  name="radio-item"
                />
                <label class="custom-control-label" for="{{ item.id }}"
                  >&nbsp;</label
                >
              </div>
            </td>
            <td class="text-secondary">{{ item.nome }}</td>
            <td class="text-secondary text-right"></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <div class="modal-footer">
    <button
      [disabled]="VigilanciaSaudeBucalSelecionado == null"
      class="btn btn-primary mr-2"
      type="button"
      (click)="savetiposVigilanciaSaudeBucal()"
    >
      <i class="fa fa-plus-circle"></i> Adicionar
    </button>
    <button class="btn btn-default" (click)="close()" type="button">
      <i class="fa fa-times"></i> Cancelar
    </button>
  </div>
</ng-template>

<ng-template #contentCondicaoAvaliada>
  <div class="modal-header">
    <h4 class="modal-title">Avaliação/Classificação CIAP2</h4>
    <button type="button" class="close" aria-label="Close" (click)="close()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div *ngIf="errors.length" class="alert alert-danger">
      <div *ngFor="let error of errors" class="row">
        <div class="col-12 text-left">
          {{ error.message }}
        </div>
      </div>
    </div>
    <div class="form-group row">
      <label class="col-xl-4 col-sm-12 col-form-label text-left">
        Descrição:
      </label>
      <div class="col-xl-8 col-sm-12">
        <input
          type="text"
          class="form-control has-error"
          [(ngModel)]="condicaoAvaliada.descricaoAB"
        />
      </div>
    </div>
    <div class="form-group row">
      <label class="col-xl-4 col-sm-12 col-form-label text-left">
        Código AB:
      </label>
      <div class="col-xl-8 col-sm-12">
        <input
          type="text"
          class="form-control has-error"
          [(ngModel)]="condicaoAvaliada.codigoAB"
        />
      </div>
    </div>
    <div class="form-group row">
      <label class="col-xl-4 col-sm-12 col-form-label text-left">
        CIAP2:
      </label>
      <div class="col-xl-8 col-sm-12">
        <input
          type="text"
          class="form-control has-error"
          [(ngModel)]="condicaoAvaliada.ciap2"
        />
      </div>
    </div>
    <div class="form-group row">
      <div class="col-12">
        <button
          [routerLink]=""
          class="btn btn-primary float-right"
          (click)="pesquisaCondicaoAvaliada()"
        >
          <i *ngIf="loading" class="fa fa-circle-o-notch fa-spin text-left">
            <i class="fa fa-spinner"></i>
          </i>
          <i *ngIf="!loading" class="fas fa-search"></i>
        </button>
      </div>
    </div>
    <div class="form-group row">
      <div class="col-12 table-responsive">
        <table class="table table-striped">
          <thead>
            <tr class="text-left">
              <th></th>
              <th>CIAP2</th>
              <th>Descrição</th>
              <th>Código AB</th>
              <th>Sexo</th>
            </tr>
          </thead>
          <tbody
            *ngFor="
              let item of allItemsPesquisaCondicaoAvaliada;
              let index = index;
              let odd = odd;
              let even = even
            "
          >
            <tr class="text-left" [ngClass]="{ odd: odd, even: even }">
              <td class="text-secondary">
                <div class="custom-control custom-radio float-left">
                  <input
                    type="radio"
                    (change)="selecionaCondicaoAvaliada(item)"
                    class="custom-control-input"
                    id="{{ item.id }}"
                    name="radio-item"
                  />
                  <label class="custom-control-label" for="{{ item.id }}"
                    >&nbsp;</label
                  >
                </div>
              </td>
              <td class="text-secondary">{{ item.ciap2 }}</td>
              <td class="text-secondary">{{ item.descricaoAB }}</td>
              <td class="text-secondary">{{ item.codigoAB }}</td>
              <td class="text-secondary">{{ item.sexo }}</td>
            </tr>
          </tbody>
          <tbody
            *ngIf="
              !allItemsPesquisaCondicaoAvaliada ||
              allItemsPesquisaCondicaoAvaliada.length == 0
            "
          >
            <tr class="text-left">
              <td colspan="99" class="text-secondary">
                <i>Não há resultados...</i>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <div class="row mb-4">
      <div
        *ngIf="
          allItemsPesquisaCondicaoAvaliada &&
          allItemsPesquisaCondicaoAvaliada.length
        "
        class="text text-secondary col-md-12 pr-0 mx-auto"
      >
        <i>
          Exibindo
          {{
            paging.offset === totalPages - 1
              ? paging.total
              : (paging.offset + 1) * paging.limit
          }}
          de
          {{ paging.total }}
          resultado(s).
        </i>
      </div>
    </div>
    <div class="row mb-2 mt-4">
      <ul
        *ngIf="
          allItemsPesquisaCondicaoAvaliada &&
          allItemsPesquisaCondicaoAvaliada.length
        "
        class="pagination mx-auto"
      >
        <li class="page-item" [ngClass]="{ disabled: paging.offset === 0 }">
          <a class="page-link" (click)="setPagePaginedCondicaoAvaliada(0)">
            <i class="fas fa-angle-double-left"></i>
          </a>
        </li>
        <li class="page-item" [ngClass]="{ disabled: paging.offset === 0 }">
          <a
            class="page-link"
            (click)="setPagePaginedCondicaoAvaliada(paging.offset - 1)"
          >
            <i class="fas fa-angle-left"></i>
          </a>
        </li>
        <li>
          <select
            (change)="
              loadQuantityPerPagePaginationCondicaoAvaliada($event, 'condicao')
            "
            class="custom-select d-block w-100"
            style="border: 1px solid #dee2e6"
          >
            <option [ngValue]="10">10</option>
            <option [ngValue]="25">25</option>
            <option [ngValue]="50">50</option>
          </select>
        </li>
        <li
          class="page-item"
          [ngClass]="{ disabled: paging.offset === totalPages - 1 }"
        >
          <a
            class="page-link"
            (click)="setPagePaginedCondicaoAvaliada(paging.offset + 1)"
          >
            <i class="fas fa-angle-right"></i>
          </a>
        </li>
        <li
          class="page-item"
          [ngClass]="{ disabled: paging.offset === totalPages - 1 }"
        >
          <a
            class="page-link"
            (click)="setPagePaginedCondicaoAvaliada(totalPages - 1)"
          >
            <i class="fas fa-angle-double-right"></i>
          </a>
        </li>
      </ul>
    </div>
    <div class="form-group row text-right">
      <div class="col-12">
        <button
          class="btn btn-primary mr-2"
          type="button"
          [disabled]="disableCondicaoAvaliadaButton()"
          (click)="saveCondicaoAvaliada()"
        >
          <i class="fa fa-plus-circle"></i> Adicionar
        </button>
        <button class="btn btn-default" (click)="close()" type="button">
          <i class="fa fa-times"></i> Cancelar
        </button>
      </div>
    </div>
  </div>
</ng-template>

<ng-template #content let-modal>
  <div class="modal-header">
    <h4 class="modal-title center" id="modal-basic-title">Anexar Documentos</h4>
    <button type="button" class="close" aria-label="Close" (click)="close()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <app-file-upload
      [formatsAllowed]="'.jpg,.png,.jpeg,.bmp,.pdf'"
      [multiple]="true"
      (changeFiles)="fileChangeEvent($event)"
    >
    </app-file-upload>
  </div>
  <div *ngIf="this.images?.length > 0" class="modal-footer">
    <button
      type="button"
      class="btn btn-outline-dark"
      (click)="salvarDocumentos()"
    >
      Salvar
    </button>
  </div>
</ng-template>
